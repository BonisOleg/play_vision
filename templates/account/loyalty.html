{% extends 'base/base.html' %}
{% load static %}

{% block title %}–ü—Ä–æ–≥—Ä–∞–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ - Play Vision{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pages/account.css' %}">
<link rel="stylesheet" href="{% static 'css/components/development.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="account-layout">
        <!-- Sidebar Navigation -->
        {% include 'account/partials/sidebar.html' %}

        <!-- Main Content -->
        <main class="account-main">
            <div class="account-header">
                <h1>–ü—Ä–æ–≥—Ä–∞–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ</h1>
                {% if under_development %}
                <div class="development-notice">
                    <p>üöß –†–æ–∑–¥—ñ–ª –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ</p>
                    <p>–¢—É—Ç –±—É–¥–µ —Å–∏—Å—Ç–µ–º–∞ –±–∞–ª—ñ–≤ —Ç–∞ –∑–Ω–∏–∂–æ–∫ –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤</p>
                </div>
                {% endif %}
            </div>

            <!-- Current Status -->
            <div class="loyalty-status">
                <div class="status-card">
                    <div class="tier-badge tier-{{ loyalty_account.tier|lower }}">
                        {{ loyalty_account.tier }}
                    </div>
                    <h2>–í–∞—à —Ä—ñ–≤–µ–Ω—å: {{ loyalty_account.tier }}</h2>
                    <p class="points">{{ loyalty_account.points }} –±–∞–ª—ñ–≤</p>
                    <p class="discount">–ó–Ω–∏–∂–∫–∞: {{ current_tier_info.discount }}%</p>
                </div>
            </div>

            <!-- Progress to Next Tier -->
            {% if next_tier_info %}
            <div class="progress-section">
                <h3>–ü—Ä–æ–≥—Ä–µ—Å –¥–æ —Ä—ñ–≤–Ω—è {{ next_tier_info.tier }}</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" data-progress="{{ progress_percentage }}"></div>
                    </div>
                    <div class="progress-text">
                        {% if points_needed > 0 %}
                        –ü–æ—Ç—Ä—ñ–±–Ω–æ —â–µ {{ points_needed }} –±–∞–ª—ñ–≤
                        {% else %}
                        –ì–æ—Ç–æ–≤–æ –¥–æ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è!
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- Tier Benefits -->
            <div class="benefits-section">
                <h3>–í–∞—à—ñ –ø–µ—Ä–µ–≤–∞–≥–∏</h3>
                <div class="benefits-grid">
                    {% for discount in available_discounts %}
                    <div class="benefit-card {% if discount.active %}active{% endif %}">
                        <h4>{{ discount.title }}</h4>
                        <p>{{ discount.description }}</p>
                        {% if discount.active %}
                        <span class="status active">–ê–∫—Ç–∏–≤–Ω–æ</span>
                        {% else %}
                        <span class="status inactive">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</span>
                        {% endif %}
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Tier Explanation -->
            <div class="tiers-explanation">
                <h3>–†—ñ–≤–Ω—ñ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ</h3>
                <div class="tiers-grid">
                    <div class="tier-card bronze">
                        <h4>Bronze</h4>
                        <p>0+ –±–∞–ª—ñ–≤</p>
                        <p>–ó–Ω–∏–∂–∫–∞: 0%</p>
                    </div>
                    <div class="tier-card silver">
                        <h4>Silver</h4>
                        <p>200+ –±–∞–ª—ñ–≤</p>
                        <p>–ó–Ω–∏–∂–∫–∞: 5%</p>
                    </div>
                    <div class="tier-card gold">
                        <h4>Gold</h4>
                        <p>500+ –±–∞–ª—ñ–≤</p>
                        <p>–ó–Ω–∏–∂–∫–∞: 10%</p>
                    </div>
                    <div class="tier-card platinum">
                        <h4>Platinum</h4>
                        <p>1000+ –±–∞–ª—ñ–≤</p>
                        <p>–ó–Ω–∏–∂–∫–∞: 15%</p>
                    </div>
                </div>
            </div>

            <!-- How to Earn Points -->
            <div class="earn-points-section">
                <h3>–Ø–∫ –∑–∞—Ä–æ–±–ª—è—Ç–∏ –±–∞–ª–∏</h3>
                <div class="earning-ways">
                    <div class="earning-item">
                        <span class="icon">üõí</span>
                        <div class="content">
                            <h4>–ü–æ–∫—É–ø–∫–∏</h4>
                            <p>1 –±–∞–ª –∑–∞ –∫–æ–∂–Ω–∏–π $1 –≤–∏—Ç—Ä–∞—á–µ–Ω–∏–π</p>
                        </div>
                    </div>
                    <div class="earning-item">
                        <span class="icon">üìù</span>
                        <div class="content">
                            <h4>–ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é</h4>
                            <p>50 –±–∞–ª—ñ–≤ –∑–∞ –ø–æ–≤–Ω–∏–π –ø—Ä–æ—Ñ—ñ–ª—å</p>
                        </div>
                    </div>
                    <div class="earning-item">
                        <span class="icon">üéì</span>
                        <div class="content">
                            <h4>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤</h4>
                            <p>10-30 –±–∞–ª—ñ–≤ –∑–∞ –∫—É—Ä—Å</p>
                        </div>
                    </div>
                    <div class="earning-item">
                        <span class="icon">üìÖ</span>
                        <div class="content">
                            <h4>–í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è —ñ–≤–µ–Ω—Ç—ñ–≤</h4>
                            <p>20 –±–∞–ª—ñ–≤ –∑–∞ –∫–æ–∂–Ω–∏–π —ñ–≤–µ–Ω—Ç</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
{% endblock %}
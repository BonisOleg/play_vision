{% extends 'base/base.html' %}
{% load static %}

{% block title %}Хаб Знань - Play Vision{% endblock %}

{% block meta_description %}Освітні програми та матеріали для футбольних фахівців. Курси, книги, відео від провідних
експертів галузі.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/section-base.css' %}">
<link rel="stylesheet" href="{% static 'css/components/unified-sections.css' %}">
<link rel="stylesheet" href="{% static 'css/components/hub-knowledge.css' %}">
<link rel="stylesheet" href="{% static 'css/components/hub-hero.css' %}">
<link rel="stylesheet" href="{% static 'css/components/hub-carousel.css' %}">
<link rel="stylesheet" href="{% static 'css/components/hub-catalog.css' %}">
<link rel="stylesheet" href="{% static 'css/components/htmx-indicators.css' %}">
{% endblock %}

{% block content %}
<div class="fullscreen-container">
    <div class="unified-sections-wrapper">
        <div class="unified-sections-container">

            <!-- HUB HERO SECTION -->
            <section class="hub-hero-section">
                <div class="hub-hero-grid">

                    <!-- Лівий блок з анімованими написами -->
                    <div class="hub-hero-main">
                        <div class="hub-hero-bg">
                            <img src="{% static 'images/Hiro.png' %}" alt="Хаб знань Play Vision" loading="eager">
                        </div>
                        <div class="hub-hero-content">
                            <div class="hub-hero-logo">
                                <img src="{% static 'images/footerlogowhite.svg' %}" alt="Play Vision" loading="eager">
                            </div>
                            <h1 class="hero-title"></h1>
                            <p class="hero-subtitle"></p>
                            <div class="hero-buttons">
                                <a href="#" class="hub-btn">
                                    <span class="btn-text">Дізнайтися</span>
                                    <span class="btn-logo-space"></span>
                                </a>
                            </div>
                            <div class="hero-slider-dots"></div>
                        </div>
                    </div>

                    <!-- Картка 1 -->
                    <a href="#catalog" class="hub-stat-card hub-stat-card-1">
                        <div class="hub-stat-label">Тематичних</div>
                        <div class="hub-stat-value">20+</div>
                        <div class="hub-stat-desc">Книжок</div>
                    </a>

                    <!-- Картка 2 -->
                    <a href="#catalog" class="hub-stat-card hub-stat-card-2">
                        <div class="hub-stat-label">Ексклюзивних</div>
                        <div class="hub-stat-value">100+</div>
                        <div class="hub-stat-desc">матеріалів</div>
                    </a>

                    <!-- Чорний слоган -->
                    <div class="hub-hero-slogan">
                        <span class="hub-slogan-highlight">Хаб</span> Знань-знання в дії
                    </div>

                    <!-- Картка 3 -->
                    <a href="#catalog" class="hub-stat-card hub-stat-card-3">
                        <div class="hub-stat-label">Годин</div>
                        <div class="hub-stat-value">50+</div>
                        <div class="hub-stat-desc">Відео</div>
                    </a>

                </div>
            </section>

            <!-- НАЙКРАЩІ КУРСИ (Featured Carousel) -->
            <section class="hub-featured-section">
                <div class="section-content">
                    <div class="hub-featured-header">
                        <h2 class="section-title">Найкращі</h2>
                        <div class="hub-featured-nav">
                            <button class="hub-nav-btn hub-nav-prev" aria-label="Попередній">
                                <svg width="24" height="24" viewBox="0 0 24 24">
                                    <path d="M15 18l-6-6 6-6" fill="none" stroke="currentColor" stroke-width="2" />
                                </svg>
                            </button>
                            <button class="hub-nav-btn hub-nav-next" aria-label="Наступний">
                                <svg width="24" height="24" viewBox="0 0 24 24">
                                    <path d="M9 18l6-6-6-6" fill="none" stroke="currentColor" stroke-width="2" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="hub-featured-carousel">
                        {% if featured_courses %}
                        {% for course in featured_courses|slice:":1" %}
                        <article class="hub-featured-card">
                            <div class="hub-featured-content">
                                <h3 class="hub-featured-title">{{ course.title }}</h3>
                                <p class="hub-featured-subtitle">{{ course.short_description }}</p>
                                <div class="hub-featured-description">
                                    {{ course.description|truncatewords:50 }}
                                </div>
                                <div class="hub-featured-meta">
                                    Кому підходить:
                                    {% for audience in course.get_target_audience_display|slice:":3" %}
                                    {{ audience }}{% if not forloop.last %}, {% endif %}
                                    {% endfor %}
                                </div>
                                    <div class="hub-featured-divider"></div>
                                    <div class="hub-featured-footer">
                                        <a href="{{ course.get_absolute_url }}" class="hub-featured-price">
                                            <span class="price-label">Ціна:</span>
                                            <span class="price-value">{{ course.price }}₴</span>
                                        </a>
                                        <button type="button" class="hub-favorite-btn" data-course-id="{{ course.id }}" {% if course.id in user_favorites %}data-favorited="true"{% endif %} aria-label="Додати до улюблених">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                            </svg>
                                        </button>
                                    </div>
                            </div>
                                <div class="hub-featured-image">
                                    {% if course.thumbnail %}
                                    <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}" loading="lazy">
                                    {% else %}
                                    <img src="{% static 'images/placeholder-1200x600.svg' %}" alt="{{ course.title }}" loading="lazy">
                                    {% endif %}
                                </div>
                        </article>
                        {% endfor %}
                        {% else %}
                        <div class="hub-no-featured">
                            <p>Найкращі курси скоро з'являться</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </section>

            <!-- КАТАЛОГ -->
            <section class="hub-catalog-section" id="catalog">
                <div class="section-content">

                    <!-- Спрощений Layout без фільтрів -->
                    <div class="hub-catalog-layout-simple">

                        <!-- Тільки Grid без sidebar -->
                        <div class="hub-content-column">
                            <!-- HTMX Loading Indicator -->
                            <div class="htmx-loading htmx-indicator">Завантаження...</div>

                            <!-- Catalog Content (Grid + Pagination) -->
                            <div id="catalog-content">
                                {% include 'hub/partials/catalog_grid.html' %}
                            </div>
                        </div>

                    </div>
                </div>
            </section>

        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/hub-knowledge.js' %}" defer></script>
{% endblock %}
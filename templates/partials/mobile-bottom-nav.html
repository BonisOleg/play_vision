{% load static %}

{# Мобільна нижня навігація - фіксована панель внизу екрана #}
<nav class="mobile-bottom-nav" role="navigation" aria-label="Мобільна навігація">
    {# Головна #}
    <a href="{% url 'core:home' %}" class="nav-item {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
        aria-label="Головна">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
            <polyline points="9 22 9 12 15 12 15 22" />
        </svg>
        <span class="nav-label">Головна</span>
    </a>

    {# Хаб знань #}
    <a href="{% url 'content:course_list' %}"
        class="nav-item {% if 'hub' in request.path or 'content' in request.path %}active{% endif %}"
        aria-label="Хаб знань">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
        </svg>
        <span class="nav-label">Хаб</span>
    </a>

    {# Івенти #}
    <a href="{% url 'events:event_list' %}" class="nav-item {% if 'events' in request.path %}active{% endif %}"
        aria-label="Івенти">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
            <line x1="16" y1="2" x2="16" y2="6" />
            <line x1="8" y1="2" x2="8" y2="6" />
            <line x1="3" y1="10" x2="21" y2="10" />
        </svg>
        <span class="nav-label">Івенти</span>
    </a>

    {# Кошик - з динамічним бейджем #}
    <a href="{% url 'cart:cart' %}" class="nav-item nav-item-cart {% if 'cart' in request.path %}active{% endif %}"
        aria-label="Кошик">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="9" cy="21" r="1" />
            <circle cx="20" cy="21" r="1" />
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" />
        </svg>
        {% if user.is_authenticated %}
        <span class="nav-badge" data-cart-count>{{ cart_items_count|default:0 }}</span>
        {% endif %}
        <span class="nav-label">Кошик</span>
    </a>

    {# Профіль / Вхід #}
    <a href="{% if user.is_authenticated %}{% url 'cabinet:dashboard' %}{% else %}{% url 'accounts:login' %}{% endif %}"
        class="nav-item {% if 'cabinet' in request.path or 'account' in request.path %}active{% endif %}"
        aria-label="{% if user.is_authenticated %}Кабінет{% else %}Вхід{% endif %}">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
            <circle cx="12" cy="7" r="4" />
        </svg>
        <span class="nav-label">{% if user.is_authenticated %}Кабінет{% else %}Вхід{% endif %}</span>
    </a>
</nav>
{% extends 'base/base.html' %}
{% load static %}

{% block title %}Play Vision - Освітня платформа для футбольних фахівців{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/home.css' %}">
<link rel="stylesheet" href="{% static 'css/components/home-additions.css' %}">
<link rel="stylesheet" href="{% static 'css/components/featured-courses-light.css' %}">
<link rel="stylesheet" href="{% static 'css/components/main-courses-redesign.css' %}">
<link rel="stylesheet" href="{% static 'css/components/parallax.css' %}">
<link rel="stylesheet" href="{% static 'css/components/mentor-hexagon.css' %}">
<link rel="stylesheet" href="{% static 'css/components/unified-sections.css' %}">
<link rel="stylesheet" href="{% static 'css/components/expert-cards-base.css' %}">
<link rel="stylesheet" href="{% static 'css/components/expert-flip-cards.css' %}">
<link rel="preload" href="{% static 'images/Hiro.png' %}" as="image">
<link rel="preload" href="{% static 'images/backlast.png' %}" as="image">
<link rel="preload" href="{% static 'images/patterns/pattern-light.webp' %}" as="image">
<link rel="preload" href="{% static 'images/patterns/pattern-dark.webp' %}" as="image">
{% endblock %}

{% block content %}
<div class="fullscreen-container">

    <!-- 1. HERO SECTION -->
    <section class="fullscreen-section hero-section hero-bordered">
        <!-- Background Video/Image -->
        {% if cms_hero_slides %}
        {% with first_slide=cms_hero_slides.0 %}
        <div class="section-bg">
            {% if first_slide.video %}
            <video class="section-bg-video" muted loop preload="metadata">
                <source src="{{ first_slide.video.url }}" type="video/mp4">
                {% if first_slide.image %}
                <img class="section-bg-image" src="{{ first_slide.image.url }}" alt="{{ first_slide.title }}"
                    loading="eager">
                {% endif %}
            </video>
            {% elif first_slide.image %}
            <img class="section-bg-image" src="{{ first_slide.image.url }}" alt="{{ first_slide.title }}"
                loading="eager">
            {% endif %}
        </div>
        {% endwith %}
        {% else %}
        <div class="section-bg">
            <img class="section-bg-image" src="{% static 'images/Hiro.png' %}" alt="Play Vision Hero" loading="eager">
        </div>
        {% endif %}
        <div class="section-overlay section-overlay--gradient"></div>

        <div class="section-content hero-new-design" {% if cms_hero_slides %}data-cms-slides="true" {% endif %}>
            {% if cms_hero_slides %}
            <!-- CMS Slides Data for JS -->
            <script type="application/json" id="hero-slides-data">
            [
                {% for slide in cms_hero_slides %}
                {
                    "title": "{{ slide.title|escapejs }}",
                    "subtitle": "{{ slide.subtitle|escapejs }}",
                    "ctaText": "{{ slide.cta_text|escapejs }}",
                    "ctaUrl": "{{ slide.cta_url|escapejs }}"
                }{% if not forloop.last %},{% endif %}
                {% endfor %}
            ]
            </script>
            {% with first_slide=cms_hero_slides.0 %}
            <h1 class="hero-title">{{ first_slide.title }}</h1>
            {% if first_slide.subtitle %}<p class="hero-subtitle">{{ first_slide.subtitle }}</p>{% endif %}
            {% if first_slide.cta_text and first_slide.cta_url %}
            <div class="hero-buttons">
                <a href="{{ first_slide.cta_url }}" class="btn btn-primary hero-btn-new">
                    <span class="btn-text">{{ first_slide.cta_text }}</span>
                    <span class="btn-logo-space"></span>
                </a>
            </div>
            {% endif %}
            {% endwith %}
            {% else %}
            <h1 class="hero-title">Продуктивна практика<br>у футбольних клубах</h1>
            <p class="hero-subtitle">Реальні кейси, стажування та менторинг з<br>професіоналами індустрії</p>
            <div class="hero-buttons">
                <a href="/about/" class="btn btn-primary hero-btn-new">
                    <span class="btn-text">Детальніше</span>
                    <span class="btn-logo-space"></span>
                </a>
            </div>
            {% endif %}

            <div class="hero-slider-dots"></div>
        </div>
    </section>

    <!-- UNIFIED SECTIONS WRAPPER (Наші основні програми, Ментор коучинг, Команда професіоналів) -->
    <div class="unified-sections-wrapper">
        <div class="unified-sections-container">

            <!-- 2. COURSES SECTION (Наші основні програми) -->
            <section class="fullscreen-section main-courses-section">
                <div class="section-content">
                    <div class="main-courses-header">
                        <h2 class="section-title">Наші основні програми</h2>

                        <div class="main-courses-navigation">
                            <button class="course-nav-btn course-nav-prev" aria-label="Попередні курси">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M15 18l-6-6 6-6" />
                                </svg>
                            </button>
                            <button class="course-nav-btn course-nav-next" aria-label="Наступні курси">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M9 18l6-6-6-6" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="main-courses-carousel-container">
                        <div class="main-courses-carousel">
                            <div class="main-courses-track">
                                {% for course in main_courses %}
                                <div class="main-course-slide">
                                    <article class="main-course-card">
                                        <div class="course-card-top">
                                            <span class="course-number">КУРС #{{ forloop.counter }}</span>
                                            <h3 class="course-title">{{ course.title }}</h3>
                                        </div>

                                        <div class="course-image-wrapper">
                                            <div class="course-image">
                                                {% if course.thumbnail %}
                                                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}">
                                                {% else %}
                                                <img src="{% static 'images/course' %}{{ forloop.counter|default:1 }}.png"
                                                    alt="{{ course.title }}">
                                                {% endif %}
                                            </div>

                                            <a href="{{ course.get_absolute_url }}" class="course-btn">
                                                <span class="course-btn-text">Огляд курсу</span>
                                                <span class="course-btn-arrow"></span>
                                            </a>
                                        </div>

                                        <div class="course-card-bottom">
                                            <p class="course-description">{{ course.short_description|truncatewords:12 }}</p>
                                        </div>
                                    </article>
                                </div>
                                {% empty %}
                                <div class="main-course-slide">
                                    <p class="no-main-courses">Курси скоро з'являться</p>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Decorative Line -->
            <div class="decorative-line-wrapper">
                <svg width="1300" height="40" viewBox="0 0 1300 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <line class="line-main" x1="1.5" y1="0.975586" x2="1.5" y2="40" stroke-width="3" />
                    <line class="line-main" x1="1298.5" y1="39.0244" x2="1298.5" y2="2.26877e-05" stroke-width="3" />
                    <line class="line-main" x1="2" y1="19.9639" x2="22" y2="19.9639" stroke-width="3" />
                    <line class="line-main" x1="1298" y1="20.0361" x2="1278" y2="20.0361" stroke-width="3" />
                    <line class="line-secondary" x1="22.0352" y1="20.0107" x2="1277.97" y2="20.0107" />
                </svg>
            </div>

            <!-- 3. MENTOR-COACHING ECOSYSTEM -->
            <section class="fullscreen-section mentor-coaching-section">
                <div class="section-content">
                    <h2 class="section-title">Ментор коучинг</h2>
                    <h3 class="ecosystem-subtitle">Екосистема комплексного розвитку футболіста</h3>

                    <div class="mentor-hexagon-container">
                        <div class="hexagon-honeycomb">

                            <!-- ЦЕНТР: Logo (0, 0) -->
                            <div class="hexagon hexagon-center" style="--translate-x: 0px; --translate-y: 0px;">
                                <div class="hexagon-inner">
                                    <img src="{% static 'images/maincouchlogo.png' %}" alt="Play Vision"
                                        class="hexagon-logo">
                                </div>
                            </div>

                            <!-- ВГОРІ: Ігровий Інтелект (0, -150) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 0px; --translate-y: -150px;">
                                <div class="hexagon-inner">
                                    <h4>Ігровий<br>Інтелект</h4>
                                    <img src="{% static 'images/game.png' %}" alt="Ігровий Інтелект" class="hexagon-icon">
                                </div>
                            </div>

                            <!-- ВЕРХ-ПРАВО: Техніка (153, -75) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 153px; --translate-y: -75px;">
                                <div class="hexagon-inner">
                                    <h4>Техніка</h4>
                                    <img src="{% static 'images/tech.png' %}" alt="Техніка" class="hexagon-icon">
                                </div>
                            </div>

                            <!-- НИЗ-ПРАВО: Здоров'я та звички (153, 80) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 153px; --translate-y: 80px;">
                                <div class="hexagon-inner">
                                    <h4>Здоров'я<br>та звички</h4>
                                    <img src="{% static 'images/zdor.png' %}" alt="Здоров'я та звички" class="hexagon-icon">
                                </div>
                            </div>

                            <!-- ВНИЗУ: Життя та побут (0, 150) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 0px; --translate-y: 150px;">
                                <div class="hexagon-inner">
                                    <h4>Життя<br>та побут</h4>
                                    <img src="{% static 'images/life.png' %}" alt="Життя та побут" class="hexagon-icon">
                                </div>
                            </div>

                            <!-- НИЗ-ЛІВО: Ментальність (-153, 80) -->
                            <div class="hexagon hexagon-item" style="--translate-x: -153px; --translate-y: 80px;">
                                <div class="hexagon-inner">
                                    <h4>Ментальність</h4>
                                    <img src="{% static 'images/ment.png' %}" alt="Ментальність" class="hexagon-icon">
                                </div>
                            </div>

                            <!-- ВЕРХ-ЛІВО: Фізика (-153, -75) -->
                            <div class="hexagon hexagon-item" style="--translate-x: -153px; --translate-y: -75px;">
                                <div class="hexagon-inner">
                                    <h4>Фізика</h4>
                                    <img src="{% static 'images/fiz.png' %}" alt="Фізика" class="hexagon-icon">
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="mentor-cta">
                        <a href="/mentor-coaching/" class="btn btn-primary">
                            <span class="btn-text">Детальніше</span>
                            <span class="btn-logo-space"></span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Decorative Line -->
            <div class="decorative-line-wrapper">
                <svg width="1300" height="40" viewBox="0 0 1300 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <line class="line-main" x1="1.5" y1="0.975586" x2="1.5" y2="40" stroke-width="3" />
                    <line class="line-main" x1="1298.5" y1="39.0244" x2="1298.5" y2="2.26877e-05" stroke-width="3" />
                    <line class="line-main" x1="2" y1="19.9639" x2="22" y2="19.9639" stroke-width="3" />
                    <line class="line-main" x1="1298" y1="20.0361" x2="1278" y2="20.0361" stroke-width="3" />
                    <line class="line-secondary" x1="22.0352" y1="20.0107" x2="1277.97" y2="20.0107" />
                </svg>
            </div>

            <!-- 4. EXPERTS SECTION -->
            <section class="fullscreen-section experts-section">
                <div class="section-content">
                    <h2 class="section-title">Команда професіоналів</h2>
                    <p class="experts-subtitle">Міжнародні експерти, які створюють освітні програми та супроводжують ваш
                        розвиток
                    </p>

                    <div class="experts-grid">
                        {% if cms_experts %}
                        {% for expert in cms_experts %}
                        <div class="expert-card" data-expert-id="{{ forloop.counter }}">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        {% if expert.photo %}
                                        <img src="{{ expert.photo.url }}" alt="{{ expert.name }}" loading="lazy">
                                        {% else %}
                                        <img src="{% static 'images/prof' %}{{ forloop.counter|default:1 }}.png"
                                            alt="{{ expert.name }}" loading="lazy">
                                        {% endif %}
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">{{ expert.name }}</h3>
                                        <p class="expert-specialization">{{ expert.specialization|default:expert.position }}</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">{{ expert.name }}</h3>
                                        <div class="expert-bio-text">
                                            {% if expert.bio %}
                                            {{ expert.bio|linebreaks }}
                                            {% else %}
                                            <p>Інформація про експерта скоро буде додана.</p>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                        {% else %}
                        <!-- Fallback: Hardcode experts -->
                        <div class="expert-card" data-expert-id="1">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof1.png' %}" alt="Dr. Fabian Otte" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Fabian Otte</h3>
                                        <p class="expert-specialization">Coaching Principles, Skill Acquisition</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Fabian Otte</h3>
                                        <div class="expert-bio-text">
                                            <p>Провідний експерт у галузі методології тренувань та розвитку навичок. Має багаторічний досвід роботи з професійними футбольними клубами Європи.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="2">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof2.png' %}" alt="Dr. Adam Owen" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Adam Owen</h3>
                                        <p class="expert-specialization">Training Methodology, Session Design</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Adam Owen</h3>
                                        <div class="expert-bio-text">
                                            <p>Міжнародний консультант з методології тренувань та проектування тренувальних сесій. Працював з топ-клубами UEFA Champions League.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="3">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof3.png' %}" alt="Prof. Hassane Zouhal" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Prof. Hassane Zouhal</h3>
                                        <p class="expert-specialization">Exercise Physiology, Talent ID</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Prof. Hassane Zouhal</h3>
                                        <div class="expert-bio-text">
                                            <p>Професор фізіології вправ, спеціаліст з ідентифікації талантів та оптимізації фізичної підготовки спортсменів високого рівня.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="4">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof4.png' %}" alt="Dr. Raphael Villatore" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Raphael Villatore</h3>
                                        <p class="expert-specialization">Sports Medicine & Nutrition</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Raphael Villatore</h3>
                                        <div class="expert-bio-text">
                                            <p>Експерт зі спортивної медицини та харчування. Розробляє індивідуальні програми для професійних футболістів та команд.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </section>

        </div>
    </div>
    <!-- END UNIFIED SECTIONS WRAPPER -->

    {% comment %}
    <!-- 5. VALUES SECTION - ВИДАЛЕНО ЗА ВИМОГОЮ КЛІЄНТА -->
    {% endcomment %}

    <!-- 6. CTA SECTION -->
    <section class="fullscreen-section cta-section cta-simple">
        <div class="cta-content">
            <h2 class="cta-title">Готові приєднатись до спільноти PlayVision?</h2>
            <div class="cta-buttons">
                <a href="{% url 'accounts:register' %}" class="btn btn-primary">
                    <span class="btn-text">Доєднатись</span>
                    <span class="btn-logo-space"></span>
                </a>
                <a href="{% url 'core:pricing' %}" class="btn btn-outline">Детальніше про підписку</a>
            </div>
        </div>
    </section>

</div>

<!-- Scroll Popup -->
{% include 'partials/scroll-popup.html' %}

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/home.js' %}" defer></script>
<script src="{% static 'js/main-courses-carousel.js' %}" defer></script>
<script src="{% static 'js/expert-flip-cards.js' %}" defer></script>
{% endblock %}
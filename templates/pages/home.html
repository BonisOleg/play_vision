{% extends 'base/base.html' %}
{% load static %}

{% block title %}Play Vision - Освітня платформа для футбольних фахівців{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/home.css' %}">
<link rel="stylesheet" href="{% static 'css/components/home-additions.css' %}">
<link rel="stylesheet" href="{% static 'css/components/featured-courses-light.css' %}">
<link rel="stylesheet" href="{% static 'css/components/main-courses-redesign.css' %}">
<link rel="stylesheet" href="{% static 'css/components/parallax.css' %}">
<link rel="stylesheet" href="{% static 'css/components/mentor-hexagon.css' %}">
<link rel="stylesheet" href="{% static 'css/components/unified-sections.css' %}">
<link rel="stylesheet" href="{% static 'css/components/expert-flip-cards.css' %}">
<link rel="preload" href="{% static 'images/Hiro.png' %}" as="image">
<link rel="preload" href="{% static 'images/backlast.png' %}" as="image">
<link rel="preload" href="{% static 'images/patterns/pattern-light.webp' %}" as="image">
<link rel="preload" href="{% static 'images/patterns/pattern-dark.webp' %}" as="image">
{% endblock %}

{% block content %}
<div class="fullscreen-container">

    <!-- 1. HERO SECTION -->
    <section class="fullscreen-section hero-section hero-bordered">
        <!-- Background Video/Image -->
        {% if cms_hero_slides %}
        {% with first_slide=cms_hero_slides.0 %}
        <div class="section-bg">
            {% if first_slide.video %}
            <video class="section-bg-video" muted loop preload="metadata">
                <source src="{{ first_slide.video.url }}" type="video/mp4">
                {% if first_slide.image %}
                <img class="section-bg-image" src="{{ first_slide.image.url }}" alt="{{ first_slide.title }}"
                    loading="eager">
                {% endif %}
            </video>
            {% elif first_slide.image %}
            <img class="section-bg-image" src="{{ first_slide.image.url }}" alt="{{ first_slide.title }}"
                loading="eager">
            {% endif %}
        </div>
        {% endwith %}
        {% else %}
        <div class="section-bg">
            <img class="section-bg-image" src="{% static 'images/Hiro.png' %}" alt="Play Vision Hero" loading="eager">
        </div>
        {% endif %}
        <div class="section-overlay section-overlay--gradient"></div>

        <div class="section-content hero-new-design" {% if cms_hero_slides %}data-cms-slides="true" {% endif %}>
            {% if cms_hero_slides %}
            <!-- CMS Slides Data for JS -->
            <script type="application/json" id="hero-slides-data">
            [
                {% for slide in cms_hero_slides %}
                {
                    "title": "{{ slide.title|escapejs }}",
                    "subtitle": "{{ slide.subtitle|escapejs }}",
                    "ctaText": "{{ slide.cta_text|escapejs }}",
                    "ctaUrl": "{{ slide.cta_url|escapejs }}"
                }{% if not forloop.last %},{% endif %}
                {% endfor %}
            ]
            </script>
            {% with first_slide=cms_hero_slides.0 %}
            <h1 class="hero-title">{{ first_slide.title }}</h1>
            {% if first_slide.subtitle %}<p class="hero-subtitle">{{ first_slide.subtitle }}</p>{% endif %}
            {% if first_slide.cta_text and first_slide.cta_url %}
            <div class="hero-buttons">
                <a href="{{ first_slide.cta_url }}" class="btn btn-primary hero-btn-new">
                    <span class="btn-text">{{ first_slide.cta_text }}</span>
                    <span class="btn-logo-space"></span>
                </a>
            </div>
            {% endif %}
            {% endwith %}
            {% else %}
            <h1 class="hero-title">Продуктивна практика<br>у футбольних клубах</h1>
            <p class="hero-subtitle">Реальні кейси, стажування та менторинг з<br>професіоналами індустрії</p>
            <div class="hero-buttons">
                <a href="/about/" class="btn btn-primary hero-btn-new">
                    <span class="btn-text">Детальніше</span>
                    <span class="btn-logo-space"></span>
                </a>
            </div>
            {% endif %}

            <div class="hero-slider-dots"></div>
        </div>
    </section>

    <!-- UNIFIED SECTIONS WRAPPER (Наші основні програми, Ментор-коучинг, Команда професіоналів) -->
    <div class="unified-sections-wrapper">
        <div class="unified-sections-container">

            <!-- 2. COURSES SECTION (Наші основні програми) -->
            <section class="fullscreen-section main-courses-section">
                <div class="section-content">
                    <div class="main-courses-header">
                        <h2 class="section-title">Наші основні програми</h2>

                        <div class="main-courses-navigation">
                            <button class="course-nav-btn course-nav-prev" aria-label="Попередні курси">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M15 18l-6-6 6-6" />
                                </svg>
                            </button>
                            <button class="course-nav-btn course-nav-next" aria-label="Наступні курси">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M9 18l6-6-6-6" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="main-courses-carousel-container">
                        <div class="main-courses-carousel">
                            <div class="main-courses-track">
                                {% for course in main_courses %}
                                <div class="main-course-slide">
                                    <article class="main-course-card">
                                        <div class="course-card-top">
                                            <span class="course-number">КУРС #{{ forloop.counter }}</span>
                                            <h3 class="course-title">{{ course.title }}</h3>
                                        </div>

                                        <div class="course-image-wrapper">
                                            <div class="course-image">
                                                {% if course.thumbnail %}
                                                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}">
                                                {% else %}
                                                <img src="{% static 'images/course' %}{{ forloop.counter|default:1 }}.png"
                                                    alt="{{ course.title }}">
                                                {% endif %}
                                            </div>

                                            <a href="{{ course.get_absolute_url }}" class="course-btn">
                                                <span class="course-btn-text">Огляд курсу</span>
                                                <span class="course-btn-arrow"></span>
                                            </a>
                                        </div>

                                        <div class="course-card-bottom">
                                            <p class="course-description">{{ course.short_description|truncatewords:12 }}</p>
                                        </div>
                                    </article>
                                </div>
                                {% empty %}
                                <div class="main-course-slide">
                                    <p class="no-main-courses">Курси скоро з'являться</p>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Decorative Line -->
            <div class="decorative-line-wrapper">
                <svg width="1300" height="40" viewBox="0 0 1300 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <line class="line-main" x1="1.5" y1="0.975586" x2="1.5" y2="40" stroke-width="3" />
                    <line class="line-main" x1="1298.5" y1="39.0244" x2="1298.5" y2="2.26877e-05" stroke-width="3" />
                    <line class="line-main" x1="2" y1="19.9639" x2="22" y2="19.9639" stroke-width="3" />
                    <line class="line-main" x1="1298" y1="20.0361" x2="1278" y2="20.0361" stroke-width="3" />
                    <line class="line-secondary" x1="22.0352" y1="20.0107" x2="1277.97" y2="20.0107" />
                </svg>
            </div>

            <!-- 3. MENTOR-COACHING ECOSYSTEM -->
            <section class="fullscreen-section mentor-coaching-section">
                <div class="section-content">
                    <h2 class="section-title">Ментор-коучинг</h2>
                    <h3 class="ecosystem-subtitle">Екосистема комплексного розвитку футболіста</h3>

                    <div class="mentor-hexagon-container">
                        <div class="hexagon-honeycomb">

                            <!-- ЦЕНТР: Logo (0, 0) -->
                            <div class="hexagon hexagon-center" style="--translate-x: 0px; --translate-y: 0px;">
                                <div class="hexagon-inner">
                                    <img src="{% static 'images/maincouchlogo.png' %}" alt="Play Vision"
                                        class="hexagon-logo">
                                </div>
                            </div>

                            <!-- ВГОРІ: Ігровий Інтелект (0, -150) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 0px; --translate-y: -150px;">
                                <div class="hexagon-inner">
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 21C9 21.5304 9.21071 22.0391 9.58579 22.4142C9.96086 22.7893 10.4696 23 11 23H13C13.5304 23 14.0391 22.7893 14.4142 22.4142C14.7893 22.0391 15 21.5304 15 21V20H9V21ZM12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 10.38 7.19 12.47 9 13.74V17C9 17.2652 9.10536 17.5196 9.29289 17.7071C9.48043 17.8946 9.73478 18 10 18H14C14.2652 18 14.5196 17.8946 14.7071 17.7071C14.8946 17.5196 15 17.2652 15 17V13.74C16.8 12.47 18 10.38 18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2Z" fill="currentColor"/>
                                    </svg>
                                    <h4>Ігровий<br>Інтелект</h4>
                                </div>
                            </div>

                            <!-- ВЕРХ-ПРАВО: Техніка (153, -75) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 153px; --translate-y: -75px;">
                                <div class="hexagon-inner">
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="currentColor"/>
                                        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
                                        <path d="M12 7.5C13.5 7.5 14.5 8.5 14.5 9.5C14.5 11 12 11.5 12 13.5M12 15.5H12.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    <h4>Техніка</h4>
                                </div>
                            </div>

                            <!-- НИЗ-ПРАВО: Здоров'я та звички (153, 80) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 153px; --translate-y: 80px;">
                                <div class="hexagon-inner">
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M20.84 4.61C19.32 3.04 17.19 2.19 14.93 2.19C13.13 2.19 11.46 2.82 10.14 3.96C8.82 2.82 7.15 2.19 5.35 2.19C3.09 2.19 0.96 3.04 -0.56 4.61C-2.08 6.18 -2.67 8.38 -2.25 10.62C-1.64 13.92 0.54 16.88 4.27 19.88C5.63 21.02 7.13 22.04 8.62 22.91C9.13 23.21 9.77 23.36 10.42 23.36C11.07 23.36 11.71 23.21 12.22 22.91C13.71 22.04 15.21 21.02 16.57 19.88C20.3 16.88 22.48 13.92 23.09 10.62C23.51 8.38 22.92 6.18 21.4 4.61H20.84Z" fill="currentColor"/>
                                        <path d="M12 6V12M9 9H15" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    <h4>Здоров'я<br>та звички</h4>
                                </div>
                            </div>

                            <!-- ВНИЗУ: Життя та побут (0, 150) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 0px; --translate-y: 150px;">
                                <div class="hexagon-inner">
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z" fill="currentColor"/>
                                    </svg>
                                    <h4>Життя<br>та побут</h4>
                                </div>
                            </div>

                            <!-- НИЗ-ЛІВО: Ментальність (-153, 80) -->
                            <div class="hexagon hexagon-item" style="--translate-x: -153px; --translate-y: 80px;">
                                <div class="hexagon-inner">
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 2C8.13 2 5 5.13 5 9C5 11.38 6.19 13.47 8 14.74V17C8 17.55 8.45 18 9 18H15C15.55 18 16 17.55 16 17V14.74C17.81 13.47 19 11.38 19 9C19 5.13 15.87 2 12 2ZM13.5 11.5C13.5 11.78 13.28 12 13 12C12.72 12 12.5 11.78 12.5 11.5V10C12.5 9.72 12.72 9.5 13 9.5C13.28 9.5 13.5 9.72 13.5 10V11.5ZM11.5 11.5C11.5 11.78 11.28 12 11 12C10.72 12 10.5 11.78 10.5 11.5V8.5C10.5 8.22 10.72 8 11 8C11.28 8 11.5 8.22 11.5 8.5V11.5Z" fill="currentColor"/>
                                        <path d="M15 19H9V20C9 20.55 9.45 21 10 21H14C14.55 21 15 20.55 15 20V19Z" fill="currentColor"/>
                                    </svg>
                                    <h4>Ментальність</h4>
                                </div>
                            </div>

                            <!-- ВЕРХ-ЛІВО: Фізика (-153, -75) -->
                            <div class="hexagon hexagon-item" style="--translate-x: -153px; --translate-y: -75px;">
                                <div class="hexagon-inner">
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M13.49 5.48C13.77 5.81 14.04 6.16 14.29 6.53L15.94 6.11C16.13 6.08 16.33 6.15 16.46 6.29C16.59 6.43 16.64 6.62 16.59 6.81L16 9.07L17.46 9.43L18.62 4.75C18.7 4.43 18.97 4.19 19.3 4.12L21.09 3.71C21.64 3.59 22.17 3.95 22.28 4.49C22.39 5.03 22.04 5.56 21.5 5.67L20.16 5.96L19 10.64L20.45 11L20.72 9.94C20.84 9.39 21.37 9.04 21.91 9.16C22.46 9.28 22.81 9.81 22.69 10.36L22.14 12.77C22.08 13.04 21.89 13.27 21.64 13.38L16.64 15.64C16.27 15.8 15.84 15.74 15.53 15.47L13.5 13.7C13.34 13.56 13.25 13.37 13.25 13.17V11.75L11.61 11.32C11.42 11.27 11.25 11.16 11.12 11L9.88 9.4L8.32 9.82L9.22 12.95L11.03 14.19C11.26 14.35 11.4 14.6 11.4 14.87V17.26C11.4 17.81 10.96 18.26 10.4 18.26C9.85 18.26 9.4 17.81 9.4 17.26V15.23L7.66 14.05C7.32 13.81 7.11 13.44 7.08 13.03L6.1 9.37L4.83 9.72L5.66 13.16C5.78 13.7 5.43 14.24 4.88 14.36C4.34 14.48 3.8 14.13 3.68 13.58L2.7 9.34C2.62 9.01 2.7 8.67 2.93 8.41C3.15 8.15 3.48 8 3.83 8.02L9.07 8.23C9.54 8.25 9.97 8.49 10.23 8.87L10.98 9.94L12.21 9.63C11.73 8.5 11.5 7.27 11.5 6C11.5 5.16 11.63 4.35 11.86 3.58L10.59 3.92C10.05 4.04 9.51 3.69 9.39 3.15C9.27 2.6 9.62 2.07 10.16 1.95L12.67 1.37C13.04 1.29 13.43 1.38 13.72 1.63C14.01 1.88 14.17 2.25 14.15 2.63C14.1 3.24 14.07 3.86 14.07 4.5C14.07 4.84 14.09 5.17 14.13 5.5L13.49 5.48Z" fill="currentColor"/>
                                        <circle cx="15.5" cy="3.5" r="2" fill="currentColor"/>
                                    </svg>
                                    <h4>Фізика</h4>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="mentor-cta">
                        <a href="/mentor-coaching/" class="btn btn-primary">
                            <span class="btn-text">Детальніше</span>
                            <span class="btn-logo-space"></span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Decorative Line -->
            <div class="decorative-line-wrapper">
                <svg width="1300" height="40" viewBox="0 0 1300 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <line class="line-main" x1="1.5" y1="0.975586" x2="1.5" y2="40" stroke-width="3" />
                    <line class="line-main" x1="1298.5" y1="39.0244" x2="1298.5" y2="2.26877e-05" stroke-width="3" />
                    <line class="line-main" x1="2" y1="19.9639" x2="22" y2="19.9639" stroke-width="3" />
                    <line class="line-main" x1="1298" y1="20.0361" x2="1278" y2="20.0361" stroke-width="3" />
                    <line class="line-secondary" x1="22.0352" y1="20.0107" x2="1277.97" y2="20.0107" />
                </svg>
            </div>

            <!-- 4. EXPERTS SECTION -->
            <section class="fullscreen-section experts-section">
                <div class="section-content">
                    <h2 class="section-title">Команда професіоналів</h2>
                    <p class="experts-subtitle">Міжнародні експерти, які створюють освітні програми та супроводжують ваш
                        розвиток
                    </p>

                    <div class="experts-grid">
                        {% if cms_experts %}
                        {% for expert in cms_experts %}
                        <div class="expert-card" data-expert-id="{{ forloop.counter }}">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        {% if expert.photo %}
                                        <img src="{{ expert.photo.url }}" alt="{{ expert.name }}" loading="lazy">
                                        {% else %}
                                        <img src="{% static 'images/prof' %}{{ forloop.counter|default:1 }}.png"
                                            alt="{{ expert.name }}" loading="lazy">
                                        {% endif %}
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">{{ expert.name }}</h3>
                                        <p class="expert-specialization">{{ expert.specialization|default:expert.position }}</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">{{ expert.name }}</h3>
                                        <div class="expert-bio-text">
                                            {% if expert.bio %}
                                            {{ expert.bio|linebreaks }}
                                            {% else %}
                                            <p>Інформація про експерта скоро буде додана.</p>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                        {% else %}
                        <!-- Fallback: Hardcode experts -->
                        <div class="expert-card" data-expert-id="1">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof1.png' %}" alt="Dr. Fabian Otte" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Fabian Otte</h3>
                                        <p class="expert-specialization">Coaching Principles, Skill Acquisition</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Fabian Otte</h3>
                                        <div class="expert-bio-text">
                                            <p>Провідний експерт у галузі методології тренувань та розвитку навичок. Має багаторічний досвід роботи з професійними футбольними клубами Європи.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="2">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof2.png' %}" alt="Dr. Adam Owen" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Adam Owen</h3>
                                        <p class="expert-specialization">Training Methodology, Session Design</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Adam Owen</h3>
                                        <div class="expert-bio-text">
                                            <p>Міжнародний консультант з методології тренувань та проектування тренувальних сесій. Працював з топ-клубами UEFA Champions League.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="3">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof3.png' %}" alt="Prof. Hassane Zouhal" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Prof. Hassane Zouhal</h3>
                                        <p class="expert-specialization">Exercise Physiology, Talent ID</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Prof. Hassane Zouhal</h3>
                                        <div class="expert-bio-text">
                                            <p>Професор фізіології вправ, спеціаліст з ідентифікації талантів та оптимізації фізичної підготовки спортсменів високого рівня.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="4">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof4.png' %}" alt="Dr. Raphael Villatore" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Raphael Villatore</h3>
                                        <p class="expert-specialization">Sports Medicine & Nutrition</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Raphael Villatore</h3>
                                        <div class="expert-bio-text">
                                            <p>Експерт зі спортивної медицини та харчування. Розробляє індивідуальні програми для професійних футболістів та команд.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </section>

        </div>
    </div>
    <!-- END UNIFIED SECTIONS WRAPPER -->

    {% comment %}
    <!-- 5. VALUES SECTION - ВИДАЛЕНО ЗА ВИМОГОЮ КЛІЄНТА -->
    {% endcomment %}

    <!-- 6. CTA SECTION -->
    <section class="fullscreen-section cta-section cta-simple">
        <div class="cta-content">
            <h2 class="cta-title">Готові приєднатись до спільноти PlayVision?</h2>
            <div class="cta-buttons">
                <a href="{% url 'accounts:register' %}" class="btn btn-primary">
                    <span class="btn-text">Доєднатись</span>
                    <span class="btn-logo-space"></span>
                </a>
                <a href="{% url 'core:pricing' %}" class="btn btn-outline">Детальніше про підписку</a>
            </div>
        </div>
    </section>

</div>

<!-- Scroll Popup -->
{% include 'partials/scroll-popup.html' %}

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/home.js' %}" defer></script>
<script src="{% static 'js/main-courses-carousel.js' %}" defer></script>
<script src="{% static 'js/expert-flip-cards.js' %}" defer></script>
{% endblock %}
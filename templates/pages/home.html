{% extends 'base/base.html' %}
{% load static %}

{% block title %}Play Vision - Освітня платформа для футбольних фахівців{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/home.css' %}">
<link rel="stylesheet" href="{% static 'css/components/home-additions.css' %}">
<link rel="stylesheet" href="{% static 'css/components/featured-courses-light.css' %}">
<link rel="stylesheet" href="{% static 'css/components/main-courses-redesign.css' %}">
<link rel="stylesheet" href="{% static 'css/components/parallax.css' %}">
<link rel="stylesheet" href="{% static 'css/components/mentor-hexagon.css' %}">
<link rel="stylesheet" href="{% static 'css/components/unified-sections.css' %}">
<link rel="stylesheet" href="{% static 'css/components/expert-cards-base.css' %}">
<link rel="stylesheet" href="{% static 'css/components/expert-flip-cards.css' %}">
<link rel="preload" href="{% static 'images/Hiro.png' %}" as="image">
<link rel="preload" href="{% static 'images/backlast.png' %}" as="image">
<link rel="preload" href="{% static 'images/patterns/pattern-light.webp' %}" as="image">
<link rel="preload" href="{% static 'images/patterns/pattern-dark.webp' %}" as="image">
{% endblock %}

{% block content %}
<div class="fullscreen-container">

    <!-- 1. HERO SECTION -->
    <section class="fullscreen-section hero-section hero-bordered">
        <!-- Background Video/Image -->
        {% if cms_hero_slides %}
        {% with first_slide=cms_hero_slides.0 %}
        <div class="section-bg">
            {% if first_slide.video %}
            <video class="section-bg-video" muted loop preload="metadata">
                <source src="{{ first_slide.video.url }}" type="video/mp4">
                {% if first_slide.image %}
                <img class="section-bg-image" src="{{ first_slide.image.url }}" alt="{{ first_slide.title }}"
                    loading="eager">
                {% endif %}
            </video>
            {% elif first_slide.image %}
            <img class="section-bg-image" src="{{ first_slide.image.url }}" alt="{{ first_slide.title }}"
                loading="eager">
            {% endif %}
        </div>
        {% endwith %}
        {% else %}
        <div class="section-bg">
            <img class="section-bg-image" src="{% static 'images/Hiro.png' %}" alt="Play Vision Hero" loading="eager">
        </div>
        {% endif %}
        <div class="section-overlay section-overlay--gradient"></div>

        <div class="section-content hero-new-design" {% if cms_hero_slides %}data-cms-slides="true" {% endif %}>
            {% if cms_hero_slides %}
            <!-- CMS Slides Data for JS -->
            <script type="application/json" id="hero-slides-data">
            [
                {% for slide in cms_hero_slides %}
                {
                    "title": "{{ slide.title|escapejs }}",
                    "subtitle": "{{ slide.subtitle|escapejs }}",
                    "ctaText": "{{ slide.cta_text|escapejs }}",
                    "ctaUrl": "{{ slide.cta_url|escapejs }}"
                }{% if not forloop.last %},{% endif %}
                {% endfor %}
            ]
            </script>
            {% with first_slide=cms_hero_slides.0 %}
            <h1 class="hero-title">{{ first_slide.title }}</h1>
            {% if first_slide.subtitle %}<p class="hero-subtitle">{{ first_slide.subtitle }}</p>{% endif %}
            {% if first_slide.cta_text and first_slide.cta_url %}
            <div class="hero-buttons">
                <a href="{{ first_slide.cta_url }}" class="btn btn-primary hero-btn-new">
                    <span class="btn-text">{{ first_slide.cta_text }}</span>
                    <span class="btn-logo-space"></span>
                </a>
            </div>
            {% endif %}
            {% endwith %}
            {% else %}
            <h1 class="hero-title">Продуктивна практика<br>у футбольних клубах</h1>
            <p class="hero-subtitle">Реальні кейси, стажування та менторинг з<br>професіоналами індустрії</p>
            <div class="hero-buttons">
                <a href="/about/" class="btn btn-primary hero-btn-new">
                    <span class="btn-text">Детальніше</span>
                    <span class="btn-logo-space"></span>
                </a>
            </div>
            {% endif %}

            <div class="hero-slider-dots"></div>
        </div>
    </section>

    <!-- UNIFIED SECTIONS WRAPPER (Наші основні програми, Ментор-коучинг, Команда професіоналів) -->
    <div class="unified-sections-wrapper">
        <div class="unified-sections-container">

            <!-- 2. COURSES SECTION (Наші основні програми) -->
            <section class="fullscreen-section main-courses-section">
                <div class="section-content">
                    <div class="main-courses-header">
                        <h2 class="section-title">Наші основні програми</h2>

                        <div class="main-courses-navigation">
                            <button class="course-nav-btn course-nav-prev" aria-label="Попередні курси">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M15 18l-6-6 6-6" />
                                </svg>
                            </button>
                            <button class="course-nav-btn course-nav-next" aria-label="Наступні курси">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M9 18l6-6-6-6" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="main-courses-carousel-container">
                        <div class="main-courses-carousel">
                            <div class="main-courses-track">
                                {% for course in main_courses %}
                                <div class="main-course-slide">
                                    <article class="main-course-card">
                                        <div class="course-card-top">
                                            <span class="course-number">КУРС #{{ forloop.counter }}</span>
                                            <h3 class="course-title">{{ course.title }}</h3>
                                        </div>

                                        <div class="course-image-wrapper">
                                            <div class="course-image">
                                                {% if course.thumbnail %}
                                                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}">
                                                {% else %}
                                                <img src="{% static 'images/course' %}{{ forloop.counter|default:1 }}.png"
                                                    alt="{{ course.title }}">
                                                {% endif %}
                                            </div>

                                            <a href="{{ course.get_absolute_url }}" class="course-btn">
                                                <span class="course-btn-text">Огляд курсу</span>
                                                <span class="course-btn-arrow"></span>
                                            </a>
                                        </div>

                                        <div class="course-card-bottom">
                                            <p class="course-description">{{ course.short_description|truncatewords:12 }}</p>
                                        </div>
                                    </article>
                                </div>
                                {% empty %}
                                <div class="main-course-slide">
                                    <p class="no-main-courses">Курси скоро з'являться</p>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Decorative Line -->
            <div class="decorative-line-wrapper">
                <svg width="1300" height="40" viewBox="0 0 1300 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <line class="line-main" x1="1.5" y1="0.975586" x2="1.5" y2="40" stroke-width="3" />
                    <line class="line-main" x1="1298.5" y1="39.0244" x2="1298.5" y2="2.26877e-05" stroke-width="3" />
                    <line class="line-main" x1="2" y1="19.9639" x2="22" y2="19.9639" stroke-width="3" />
                    <line class="line-main" x1="1298" y1="20.0361" x2="1278" y2="20.0361" stroke-width="3" />
                    <line class="line-secondary" x1="22.0352" y1="20.0107" x2="1277.97" y2="20.0107" />
                </svg>
            </div>

            <!-- 3. MENTOR-COACHING ECOSYSTEM -->
            <section class="fullscreen-section mentor-coaching-section">
                <div class="section-content">
                    <h2 class="section-title">Ментор-коучинг</h2>
                    <h3 class="ecosystem-subtitle">Екосистема комплексного розвитку футболіста</h3>

                    <div class="mentor-hexagon-container">
                        <div class="hexagon-honeycomb">

                            <!-- ЦЕНТР: Logo (0, 0) -->
                            <div class="hexagon hexagon-center" style="--translate-x: 0px; --translate-y: 0px;">
                                <div class="hexagon-inner">
                                    <img src="{% static 'images/maincouchlogo.png' %}" alt="Play Vision"
                                        class="hexagon-logo">
                                </div>
                            </div>

                            <!-- ВГОРІ: Ігровий Інтелект (0, -150) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 0px; --translate-y: -150px;">
                                <div class="hexagon-inner">
                                    <h4>Ігровий<br>Інтелект</h4>
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="16" cy="16" r="16" fill="#000000"/>
                                        <path d="M16 8C15.4696 8 14.9609 8.21071 14.5858 8.58579C14.2107 8.96086 14 9.46957 14 10V11H12C11.4696 11 10.9609 11.2107 10.5858 11.5858C10.2107 11.9609 10 12.4696 10 13V20C10 20.5304 10.2107 21.0391 10.5858 21.4142C10.9609 21.7893 11.4696 22 12 22H20C20.5304 22 21.0391 21.7893 21.4142 21.4142C21.7893 21.0391 22 20.5304 22 20V13C22 12.4696 21.7893 11.9609 21.4142 11.5858C21.0391 11.2107 20.5304 11 20 11H18V10C18 9.46957 17.7893 8.96086 17.4142 8.58579C17.0391 8.21071 16.5304 8 16 8ZM16 10H16.01V11H15.99V10H16Z" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>

                            <!-- ВЕРХ-ПРАВО: Техніка (153, -75) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 153px; --translate-y: -75px;">
                                <div class="hexagon-inner">
                                    <h4>Техніка</h4>
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="16" cy="16" r="16" fill="#000000"/>
                                        <circle cx="16" cy="16" r="7" stroke="#FFFFFF" stroke-width="1.5" fill="none"/>
                                        <path d="M16 10.5L17.5 13L20 13.5L18 15.5L18.5 18L16 16.5L13.5 18L14 15.5L12 13.5L14.5 13L16 10.5Z" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>

                            <!-- НИЗ-ПРАВО: Здоров'я та звички (153, 80) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 153px; --translate-y: 80px;">
                                <div class="hexagon-inner">
                                    <h4>Здоров'я<br>та звички</h4>
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="16" cy="16" r="16" fill="#000000"/>
                                        <path d="M16 11C15.7348 11 15.4804 11.1054 15.2929 11.2929C15.1054 11.4804 15 11.7348 15 12V15H12C11.7348 15 11.4804 15.1054 11.2929 15.2929C11.1054 15.4804 11 15.7348 11 16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17H15V20C15 20.2652 15.1054 20.5196 15.2929 20.7071C15.4804 20.8946 15.7348 21 16 21C16.2652 21 16.5196 20.8946 16.7071 20.7071C16.8946 20.5196 17 20.2652 17 20V17H20C20.2652 17 20.5196 16.8946 20.7071 16.7071C20.8946 16.5196 21 16.2652 21 16C21 15.7348 20.8946 15.4804 20.7071 15.2929C20.5196 15.1054 20.2652 15 20 15H17V12C17 11.7348 16.8946 11.4804 16.7071 11.2929C16.5196 11.1054 16.2652 11 16 11Z" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>

                            <!-- ВНИЗУ: Життя та побут (0, 150) -->
                            <div class="hexagon hexagon-item" style="--translate-x: 0px; --translate-y: 150px;">
                                <div class="hexagon-inner">
                                    <h4>Життя<br>та побут</h4>
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="16" cy="16" r="16" fill="#000000"/>
                                        <path d="M16 10L10 15H13V21H19V15H22L16 10Z" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>

                            <!-- НИЗ-ЛІВО: Ментальність (-153, 80) -->
                            <div class="hexagon hexagon-item" style="--translate-x: -153px; --translate-y: 80px;">
                                <div class="hexagon-inner">
                                    <h4>Ментальність</h4>
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="16" cy="16" r="16" fill="#000000"/>
                                        <path d="M16 10C14.9 10 14 10.9 14 12V13C12.9 13 12 13.9 12 15V20C12 21.1 12.9 22 14 22H18C19.1 22 20 21.1 20 20V15C20 13.9 19.1 13 18 13V12C18 10.9 17.1 10 16 10ZM16 11.5C16.28 11.5 16.5 11.72 16.5 12V13H15.5V12C15.5 11.72 15.72 11.5 16 11.5Z" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>

                            <!-- ВЕРХ-ЛІВО: Фізика (-153, -75) -->
                            <div class="hexagon hexagon-item" style="--translate-x: -153px; --translate-y: -75px;">
                                <div class="hexagon-inner">
                                    <h4>Фізика</h4>
                                    <svg class="hexagon-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="16" cy="16" r="16" fill="#000000"/>
                                        <path d="M18 11C18 9.9 17.1 9 16 9C14.9 9 14 9.9 14 11C14 11.7 14.4 12.3 15 12.6V14H13.5C13.2 14 13 14.2 13 14.5V17.5C13 17.8 13.2 18 13.5 18H15V21C15 21.6 15.4 22 16 22C16.6 22 17 21.6 17 21V18H18.5C18.8 18 19 17.8 19 17.5V14.5C19 14.2 18.8 14 18.5 14H17V12.6C17.6 12.3 18 11.7 18 11Z" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="mentor-cta">
                        <a href="/mentor-coaching/" class="btn btn-primary">
                            <span class="btn-text">Детальніше</span>
                            <span class="btn-logo-space"></span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Decorative Line -->
            <div class="decorative-line-wrapper">
                <svg width="1300" height="40" viewBox="0 0 1300 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <line class="line-main" x1="1.5" y1="0.975586" x2="1.5" y2="40" stroke-width="3" />
                    <line class="line-main" x1="1298.5" y1="39.0244" x2="1298.5" y2="2.26877e-05" stroke-width="3" />
                    <line class="line-main" x1="2" y1="19.9639" x2="22" y2="19.9639" stroke-width="3" />
                    <line class="line-main" x1="1298" y1="20.0361" x2="1278" y2="20.0361" stroke-width="3" />
                    <line class="line-secondary" x1="22.0352" y1="20.0107" x2="1277.97" y2="20.0107" />
                </svg>
            </div>

            <!-- 4. EXPERTS SECTION -->
            <section class="fullscreen-section experts-section">
                <div class="section-content">
                    <h2 class="section-title">Команда професіоналів</h2>
                    <p class="experts-subtitle">Міжнародні експерти, які створюють освітні програми та супроводжують ваш
                        розвиток
                    </p>

                    <div class="experts-grid">
                        {% if cms_experts %}
                        {% for expert in cms_experts %}
                        <div class="expert-card" data-expert-id="{{ forloop.counter }}">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        {% if expert.photo %}
                                        <img src="{{ expert.photo.url }}" alt="{{ expert.name }}" loading="lazy">
                                        {% else %}
                                        <img src="{% static 'images/prof' %}{{ forloop.counter|default:1 }}.png"
                                            alt="{{ expert.name }}" loading="lazy">
                                        {% endif %}
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">{{ expert.name }}</h3>
                                        <p class="expert-specialization">{{ expert.specialization|default:expert.position }}</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">{{ expert.name }}</h3>
                                        <div class="expert-bio-text">
                                            {% if expert.bio %}
                                            {{ expert.bio|linebreaks }}
                                            {% else %}
                                            <p>Інформація про експерта скоро буде додана.</p>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                        {% else %}
                        <!-- Fallback: Hardcode experts -->
                        <div class="expert-card" data-expert-id="1">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof1.png' %}" alt="Dr. Fabian Otte" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Fabian Otte</h3>
                                        <p class="expert-specialization">Coaching Principles, Skill Acquisition</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Fabian Otte</h3>
                                        <div class="expert-bio-text">
                                            <p>Провідний експерт у галузі методології тренувань та розвитку навичок. Має багаторічний досвід роботи з професійними футбольними клубами Європи.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="2">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof2.png' %}" alt="Dr. Adam Owen" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Adam Owen</h3>
                                        <p class="expert-specialization">Training Methodology, Session Design</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Adam Owen</h3>
                                        <div class="expert-bio-text">
                                            <p>Міжнародний консультант з методології тренувань та проектування тренувальних сесій. Працював з топ-клубами UEFA Champions League.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="3">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof3.png' %}" alt="Prof. Hassane Zouhal" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Prof. Hassane Zouhal</h3>
                                        <p class="expert-specialization">Exercise Physiology, Talent ID</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Prof. Hassane Zouhal</h3>
                                        <div class="expert-bio-text">
                                            <p>Професор фізіології вправ, спеціаліст з ідентифікації талантів та оптимізації фізичної підготовки спортсменів високого рівня.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="expert-card" data-expert-id="4">
                            <div class="expert-card-inner">
                                <div class="expert-card-front">
                                    <div class="expert-photo">
                                        <img src="{% static 'images/prof4.png' %}" alt="Dr. Raphael Villatore" loading="lazy">
                                    </div>
                                    <div class="expert-card-content">
                                        <h3 class="expert-name">Dr. Raphael Villatore</h3>
                                        <p class="expert-specialization">Sports Medicine & Nutrition</p>
                                    </div>
                                </div>
                                <div class="expert-card-back">
                                    <div class="expert-bio-content">
                                        <h3 class="expert-name-back">Dr. Raphael Villatore</h3>
                                        <div class="expert-bio-text">
                                            <p>Експерт зі спортивної медицини та харчування. Розробляє індивідуальні програми для професійних футболістів та команд.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </section>

        </div>
    </div>
    <!-- END UNIFIED SECTIONS WRAPPER -->

    {% comment %}
    <!-- 5. VALUES SECTION - ВИДАЛЕНО ЗА ВИМОГОЮ КЛІЄНТА -->
    {% endcomment %}

    <!-- 6. CTA SECTION -->
    <section class="fullscreen-section cta-section cta-simple">
        <div class="cta-content">
            <h2 class="cta-title">Готові приєднатись до спільноти PlayVision?</h2>
            <div class="cta-buttons">
                <a href="{% url 'accounts:register' %}" class="btn btn-primary">
                    <span class="btn-text">Доєднатись</span>
                    <span class="btn-logo-space"></span>
                </a>
                <a href="{% url 'core:pricing' %}" class="btn btn-outline">Детальніше про підписку</a>
            </div>
        </div>
    </section>

</div>

<!-- Scroll Popup -->
{% include 'partials/scroll-popup.html' %}

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/home.js' %}" defer></script>
<script src="{% static 'js/main-courses-carousel.js' %}" defer></script>
<script src="{% static 'js/expert-flip-cards.js' %}" defer></script>
{% endblock %}
# ü§ñ AI –ü–û–í–ù–ê –†–ï–ê–õ–Ü–ó–ê–¶–Ü–Ø - –ö–û–†–û–¢–ö–ò–ô –ü–õ–ê–ù

## –ú–ï–¢–ê
AI —à—É–∫–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –°–ü–û–ß–ê–¢–ö–£ –≤ –Ω–∞—à—ñ–π –±–∞–∑—ñ –∑–Ω–∞–Ω—å ‚Üí —è–∫—â–æ –Ω–µ–º–∞—î ‚Üí –≤ –∑–∞–≥–∞–ª—å–Ω—ñ–π LLM –±–∞–∑—ñ

## –ö–†–û–ö 1: –ü–Ü–î–ì–û–¢–û–í–ö–ê (10 —Ö–≤)
- [ ] –û—Ç—Ä–∏–º–∞—Ç–∏ OpenAI API –∫–ª—é—á –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç–∞
- [ ] –î–æ–¥–∞—Ç–∏ –≤ .env: `OPENAI_API_KEY=sk-...`
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞—Ü—é—î: `python -c "import openai"`

## –ö–†–û–ö 2: –ë–ê–ó–ê –ó–ù–ê–ù–¨ (1 –≥–æ–¥)
- [ ] –î–æ–ø–∏—Å–∞—Ç–∏ —Ä–µ—à—Ç—É Core-50 –ø–∏—Ç–∞–Ω—å (38 —à—Ç)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ `load_core50.py` –∫–æ–º–∞–Ω–¥—É
- [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤ KnowledgeBase –∑ metadata
- [ ] –î–æ–¥–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ MD —Ñ–∞–π–ª–∏ (faq_public.md etc)

## –ö–†–û–ö 3: –û–ù–û–í–ò–¢–ò AIAgentService (2 –≥–æ–¥)

### 3.1 –õ–æ–≥—ñ–∫–∞ –ø–æ—à—É–∫—É
```python
def process_query(query, user):
    # 1. –®—É–∫–∞—î–º–æ –≤ –ù–ê–®–Ü–ô –±–∞–∑—ñ (–≤–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫)
    our_docs = vector_store.search(query, limit=5)
    
    if our_docs and relevance_score > 0.7:
        # –Ñ —Ö–æ—Ä–æ—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤ –Ω–∞—à—ñ–π –±–∞–∑—ñ
        response = llm.generate(prompt_with_our_docs)
        sources = our_docs
    else:
        # –ù–µ–º–∞—î –≤ –Ω–∞—à—ñ–π –±–∞–∑—ñ - –∑–∞–≥–∞–ª—å–Ω–∏–π LLM
        response = llm.generate(general_prompt)
        sources = []
    
    # 2. –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è (4-6 –∞–±–∑–∞—Ü—ñ–≤)
    # 3. –î–æ–¥–∞—Ç–∏ CTA (–ø—ñ—Å–ª—è 2-3 –∑–∞–ø–∏—Ç—ñ–≤)
    # 4. –î–æ–¥–∞—Ç–∏ –¥–∏—Å–∫–ª–µ–π–º–µ—Ä —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
    # 5. –õ–æ–≥—É–≤–∞–Ω–Ω—è
```

### 3.2 ResponseFormatter
```python
- –û–±–º–µ–∂–∏—Ç–∏ –¥–æ 4-6 –∞–±–∑–∞—Ü—ñ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –°—É—Ç—å ‚Üí –ö—Ä–æ–∫–∏ ‚Üí –û—á—ñ–∫—É–≤–∞–Ω–Ω—è ‚Üí –î–∂–µ—Ä–µ–ª–∞
- Emoji –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ
```

### 3.3 CTAManager
```python
- –ü—ñ—Å–ª—è 2-3 –∑–∞–ø–∏—Ç—ñ–≤: –º'—è–∫–∏–π CTA
- –Ø–∫—â–æ —î –º–∞—Ç–µ—Ä—ñ–∞–ª: –ø—Ä—è–º–∏–π CTA –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º
- –î–∏–Ω–∞–º—ñ—á–Ω—ñ —Ü—ñ–Ω–∏
```

### 3.4 DisclaimerManager
```python
HEALTH_KEYWORDS = ['–±—ñ–ª—å', '—Ç—Ä–∞–≤–º–∞', '–≤—Ç–æ–º–∞']
LEGAL_KEYWORDS = ['–∫–æ–Ω—Ç—Ä–∞–∫—Ç', '–¥–æ–≥–æ–≤—ñ—Ä']
# –ê–≤—Ç–æ-–≤—Å—Ç–∞–≤–∫–∞ –¥–∏—Å–∫–ª–µ–π–º–µ—Ä—ñ–≤
```

## –ö–†–û–ö 4: –§–ê–ô–õ–û–í–ê –°–ò–°–¢–ï–ú–ê (30 —Ö–≤)
```python
# apps/ai/management/commands/add_knowledge.py
class Command:
    def handle(self, file_path):
        # –ó—á–∏—Ç–∞—Ç–∏ MD/TXT —Ñ–∞–π–ª
        # –°—Ç–≤–æ—Ä–∏—Ç–∏ KnowledgeBase –∑–∞–ø–∏—Å
        # –î–æ–¥–∞—Ç–∏ metadata, —Ç–µ–≥–∏
        # –Ü–Ω–¥–µ–∫—Å—É–≤–∞—Ç–∏ –¥–ª—è –ø–æ—à—É–∫—É
```

## –ö–†–û–ö 5: ADMIN –ü–ê–ù–ï–õ–¨ (30 —Ö–≤)
- [ ] –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª" –≤ admin
- [ ] –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ + –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è AI –∑ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏
- [ ] Dashboard –º–µ—Ç—Ä–∏–∫

## –ö–†–û–ö 6: –°–ò–°–¢–ï–ú–ê –û–¶–Ü–ù–û–ö (30 —Ö–≤)
```python
# AIQuery –¥–æ–¥–∞—Ç–∏ –ø–æ–ª—è:
thumbs_up/thumbs_down
feedback_text
sources_used = JSONField
```

## –ö–†–û–ö 7: –¢–ï–°–¢–£–í–ê–ù–ù–Ø (1 –≥–æ–¥)
```bash
# 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±–∞–∑—É
python manage.py load_core50
python manage.py load_knowledge_base

# 2. –¢–µ—Å—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∏
# - –Ñ –≤ –±–∞–∑—ñ ‚Üí –º–∞—î –¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –¥–∂–µ—Ä–µ–ª–∞–º–∏
# - –ù–µ–º–∞—î –≤ –±–∞–∑—ñ ‚Üí –∑–∞–≥–∞–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å LLM
# - CTA –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
# - –î–∏—Å–∫–ª–µ–π–º–µ—Ä–∏ –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ

# 3. –†—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
```

## –§–ê–ô–õ–ò –î–õ–Ø –°–¢–í–û–†–ï–ù–ù–Ø/–û–ù–û–í–õ–ï–ù–ù–Ø
1. `apps/ai/services.py` - –æ–Ω–æ–≤–∏—Ç–∏ AIAgentService
2. `apps/ai/management/commands/load_core50.py` - –Ω–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞
3. `apps/ai/management/commands/add_knowledge.py` - –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
4. `apps/ai/admin.py` - admin —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. `apps/ai/models.py` - –¥–æ–¥–∞—Ç–∏ –ø–æ–ª—è –¥–ª—è –æ—Ü—ñ–Ω–æ–∫
6. –î–æ–ø–∏—Å–∞—Ç–∏ Core-50 –ø–∏—Ç–∞–Ω–Ω—è

## –ö–û–ú–ê–ù–î–ò –ó–ê–ü–£–°–ö–£
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ API –∫–ª—é—á
export OPENAI_API_KEY=sk-...

# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±–∞–∑—É
python manage.py load_core50
python manage.py load_knowledge_base

# –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ñ–∞–π–ª
python manage.py add_knowledge path/to/file.md --category=training --access=subscriber

# –¢–µ—Å—Ç
python manage.py test apps.ai
```

## –ü–†–Ü–û–†–ò–¢–ï–¢ –í–ò–ö–û–ù–ê–ù–ù–Ø
1. API –∫–ª—é—á + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ (5 —Ö–≤)
2. –î–æ–ø–∏—Å–∞—Ç–∏ Core-50 (1-2 –≥–æ–¥)
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ load_core50 (30 —Ö–≤)
4. –û–Ω–æ–≤–∏—Ç–∏ AIAgentService (2 –≥–æ–¥)
5. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (1 –≥–æ–¥)
**TOTAL: ~5-6 –≥–æ–¥–∏–Ω —Ä–æ–±–æ—Ç–∏**

## SUCCESS CRITERIA
‚úÖ AI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ Core-50 –∑ –Ω–∞—à–æ—ó –±–∞–∑–∏
‚úÖ –Ø–∫—â–æ –ø–∏—Ç–∞–Ω–Ω—è –Ω–æ–≤–µ - –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑ LLM
‚úÖ –§–æ—Ä–º–∞—Ç: 4-6 –∞–±–∑–∞—Ü—ñ–≤, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ
‚úÖ CTA –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è 2-3 –∑–∞–ø–∏—Ç—ñ–≤
‚úÖ –ú–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ MD —Ñ–∞–π–ª–∏
‚úÖ –î–∏—Å–∫–ª–µ–π–º–µ—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ
‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

---

**–ì–û–¢–û–í–ò–ô –ü–û–ß–ê–¢–ò? –°–ö–ê–ñ–ò "–°–¢–ê–†–¢" –Ü –ü–û–ß–ò–ù–ê–Æ –ó –ö–†–û–ö–£ 1** üöÄ


# üìä –ó–≤—ñ—Ç –ø—Ä–æ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—é —Å–∏—Å—Ç–µ–º–∏ –ø—ñ–¥–ø–∏—Å–æ–∫ Play Vision

**–î–∞—Ç–∞:** 25 –∂–æ–≤—Ç–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üéØ –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### ‚úÖ 1. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è LiqPay –∑–∞–º—ñ—Å—Ç—å Stripe

**–§–∞–π–ª–∏:**
- `requirements.txt` - –¥–æ–¥–∞–Ω–æ `liqpay-sdk-python==1.0.1`
- `playvision/settings/base.py` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è LiqPay API
- `apps/payments/liqpay_service.py` - –ø–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ LiqPay

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤
- –†–µ–∫—É—Ä–µ–Ω—Ç–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ –¥–ª—è –ø—ñ–¥–ø–∏—Å–æ–∫
- Apple Pay / Google Pay
- –û–ø–ª–∞—Ç–∞ —á–∞—Å—Ç–∏–Ω–∞–º–∏ –≤—ñ–¥ –ü—Ä–∏–≤–∞—Ç–ë–∞–Ω–∫—É
- Webhook –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥ LiqPay
- –ü—ñ–¥–ø–∏—Å —Ç–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π

---

### ‚úÖ 2. –û–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ checkout –¥–ª—è –ø—ñ–¥–ø–∏—Å–∫–∏

**–§–∞–π–ª–∏:**
- `apps/subscriptions/subscription_views.py` - –Ω–æ–≤—ñ views
- `templates/subscriptions/checkout.html` - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
- `static/css/components/subscription-checkout.css` - —Å—Ç–∏–ª—ñ

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –í–∏–±—ñ—Ä —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç–∏ (–∫–∞—Ä—Ç–∫–∞, Apple Pay, Google Pay, –ü—Ä–∏–≤–∞—Ç24)
- –ü–æ–ª–µ –ø—Ä–æ–º–æ–∫–æ–¥—É –∑ AJAX –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–ª–∞–Ω
- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –æ–∫—Ä–µ–º–∏–º–∏ –ø–æ–∫—É–ø–∫–∞–º–∏
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- –ü–æ–≤–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è –ø—ñ–¥ –º–æ–±—ñ–ª—å–Ω—ñ —Ç–∞ –ø–ª–∞–Ω—à–µ—Ç–∏

**URL:**
```
/checkout/<plan_id>/ - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
/process-payment/<plan_id>/ - –æ–±—Ä–æ–±–∫–∞ –ø–ª–∞—Ç–µ–∂—É
/validate-coupon/ - AJAX –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥—É
```

---

### ‚úÖ 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–π–¥–∂—ñ –¥–ª—è –ø–ª–∞–Ω—ñ–≤

**–§–∞–π–ª–∏:**
- `apps/subscriptions/models.py` - –ø–æ–∫—Ä–∞—â–µ–Ω–∞ –º–æ–¥–µ–ª—å Plan
- `apps/subscriptions/migrations/0002_plan_improvements.py` - –º—ñ–≥—Ä–∞—Ü—ñ—è

**–ù–æ–≤—ñ –ø–æ–ª—è:**
- `is_best_value` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–ª—è –Ω–∞–π–¥–æ–≤—à–æ–≥–æ —Ç–µ—Ä–º—ñ–Ω—É
- `badge_type` - —Ç–∏–ø –±–µ–π–¥–∂–∞ (popular/best_value/recommended/new)
- `total_subscriptions` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂—ñ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ª–æ–≥—ñ–∫–∞:**
- –ù–∞–π–¥–æ–≤—à–∏–π —Ç–µ—Ä–º—ñ–Ω ‚Üí "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–∫–æ–Ω–æ–º—ñ—è"
- `is_popular=True` ‚Üí "–ù–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π"
- –ï–∫–æ–Ω–æ–º—ñ—è 30%+ ‚Üí "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–∫–æ–Ω–æ–º—ñ—è"
- –ï–∫–æ–Ω–æ–º—ñ—è 15-29% ‚Üí "–í–∏–≥—ñ–¥–Ω–æ"

**Properties:**
- `auto_badge` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –±–µ–π–¥–∂–∞
- `badge_class` - CSS –∫–ª–∞—Å –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó
- `savings_percentage` - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –µ–∫–æ–Ω–æ–º—ñ—ó

---

### ‚úÖ 4. –†–µ–¥—ñ—Ä–µ–∫—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤:**
- `templates/subscriptions/pricing.html` - –∫–Ω–æ–ø–∫–∞ "–í—Å—Ç—É–ø–∏—Ç–∏ –≤ –∫–ª—É–±"
- `apps/subscriptions/subscription_views.py` - `LoginRequiredMixin` –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º `get_login_url()`

**–õ–æ–≥—ñ–∫–∞:**
- –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π ‚Üí –∫–ª—ñ–∫ –Ω–∞ –ø–ª–∞–Ω ‚Üí —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ `/pricing/` –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º
- –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–∞ –≤–∏–±—Ä–∞–Ω–∏–π –ø–ª–∞–Ω
- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è plan_id –≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

---

### ‚úÖ 5. –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –æ–ø–ª–∞—Ç–∏

**–§–∞–π–ª–∏:**
- `templates/subscriptions/payment_success.html` - —É—Å–ø—ñ—à–Ω–∞ –æ–ø–ª–∞—Ç–∞
- `templates/subscriptions/payment_failure.html` - –ø–æ–º–∏–ª–∫–∞ –æ–ø–ª–∞—Ç–∏
- `static/css/components/payment-result.css` - —Å—Ç–∏–ª—ñ –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏

**Success —Å—Ç–æ—Ä—ñ–Ω–∫–∞:**
- –ê–Ω—ñ–º–æ–≤–∞–Ω–∞ –≥–∞–ª–æ—á–∫–∞ —É—Å–ø—ñ—Ö—É
- –î–µ—Ç–∞–ª—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ (–ø–ª–∞–Ω, —Ç–µ—Ä–º—ñ–Ω, —Ü—ñ–Ω–∞)
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–¥—ñ—Ä–µ–∫—Ç –≤ –∫–∞–±—ñ–Ω–µ—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
- –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥—É –≤ –∫–∞–±—ñ–Ω–µ—Ç –∞–±–æ –Ω–∞ –∫—É—Ä—Å–∏

**Failure —Å—Ç–æ—Ä—ñ–Ω–∫–∞:**
- –ê–Ω—ñ–º–æ–≤–∞–Ω–∏–π —Ö—Ä–µ—Å—Ç–∏–∫ –ø–æ–º–∏–ª–∫–∏
- –û–ø–∏—Å –ø—Ä–∏—á–∏–Ω–∏ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤, –≤—ñ–¥–º–æ–≤–∞ –±–∞–Ω–∫—É —Ç–æ—â–æ)
- –ö–æ–¥ –ø–æ–º–∏–ª–∫–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è
- –ö–Ω–æ–ø–∫–∞ "–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑"

---

### ‚úÖ 6. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –æ–∫—Ä–µ–º–∏–º–∏ –ø–æ–∫—É–ø–∫–∞–º–∏

**–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤:**
- `apps/subscriptions/subscription_views.py` ‚Üí `_calculate_purchase_comparison()`

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –≤—Å—ñ—Ö –≤–∏—Ç—Ä–∞—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ –∫—É—Ä—Å–∏
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫—É–ø–ª–µ–Ω–∏—Ö –∫—É—Ä—Å—ñ–≤
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ checkout —è–∫—â–æ —î –ø–æ–∫—É–ø–∫–∏
- –í–∏–¥—ñ–ª–µ–Ω–Ω—è –µ–∫–æ–Ω–æ–º—ñ—ó –ø—Ä–∏ –ø—ñ–¥–ø–∏—Å—Ü—ñ

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–í–∏ –≤–∂–µ –∑–∞–ø–ª–∞—Ç–∏–ª–∏ 2400‚Ç¥ –∑–∞ 3 –∫—É—Ä—Å–∏
–ü—ñ–¥–ø–∏—Å–∫–∞ PRO-VISION –¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—å–æ–≥–æ –∑–∞ 1499‚Ç¥
```

---

### ‚úÖ 7. –ê–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ LiqPay

**–§–∞–π–ª–∏:**
- `apps/payments/liqpay_service.py` - –ø–∞—Ä–∞–º–µ—Ç—Ä `subscribe=1` –¥–ª—è —Ä–µ–∫—É—Ä–µ–Ω—Ç–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤
- `apps/subscriptions/management/commands/renew_subscriptions.py` - –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å–ø–∏—Å–∞–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ —â–æ–º—ñ—Å—è—Ü—è —á–µ—Ä–µ–∑ LiqPay
- Management –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ `--dry-run` –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä `--days-before` –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–ó–∞–ø—É—Å–∫:**
```bash
# –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º
python3 manage.py renew_subscriptions --dry-run

# –†–µ–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑–∞ 3 –¥–Ω—ñ –¥–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è
python3 manage.py renew_subscriptions --days-before=3
```

**Cron –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
```cron
0 0 * * * python3 manage.py renew_subscriptions --days-before=3
```

---

### ‚úÖ 8. –ö–Ω–æ–ø–∫–∞ "–í—Å—Ç—É–ø–∏—Ç–∏ –≤ –∫–ª—É–±"

**–û–Ω–æ–≤–ª–µ–Ω–æ –≤ —Ñ–∞–π–ª–∞—Ö:**
- `templates/hub/course_detail.html`
- `templates/hub/material_detail.html`
- `templates/subscriptions/pricing.html`

**–õ–æ–≥—ñ–∫–∞:**
- **–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π** ‚Üí "–í—Å—Ç—É–ø–∏—Ç–∏ –≤ –∫–ª—É–±" ‚Üí `/pricing/`
- **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –±–µ–∑ –ø—ñ–¥–ø–∏—Å–∫–∏** ‚Üí "–û—Ñ–æ—Ä–º–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É" ‚Üí `/pricing/`
- **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∑ –ø—ñ–¥–ø–∏—Å–∫–æ—é** ‚Üí "–†–æ–∑–ø–æ—á–∞—Ç–∏ –Ω–∞–≤—á–∞–Ω–Ω—è"

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ URL:**
- `?next=` - –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—ñ—Å–ª—è –≤—Ö–æ–¥—É
- `?ref=course_X` - —Ç—Ä–µ–∫—ñ–Ω–≥ –¥–∂–µ—Ä–µ–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥—É
- `&add_to_cart=` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ –∫–æ—à–∏–∫

---

### ‚úÖ 9. –û–Ω–æ–≤–ª–µ–Ω–Ω—è pricing.html

**–ó–º—ñ–Ω–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `auto_badge` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –±–µ–π–¥–∂—ñ–≤
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è `savings_percentage` - –µ–∫–æ–Ω–æ–º—ñ—ó
- –ú—ñ—Å—è—á–Ω–∞ —Ü—ñ–Ω–∞ `monthly_price`
- –ó–∞–º—ñ–Ω–∞ $ –Ω–∞ ‚Ç¥
- –ö–Ω–æ–ø–∫–∏ –≤–µ–¥—É—Ç—å –Ω–∞ `/checkout/` –∑–∞–º—ñ—Å—Ç—å —Ñ–æ—Ä–º
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —Å—ñ—Ç–∫–∞ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç—ñ–≤ —Ç–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö

**CSS –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- –ì—Ä–∞–¥—ñ—î–Ω—Ç–Ω—ñ –±–µ–π–¥–∂—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤
- –ê–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∏ hover
- Responsive grid (4 ‚Üí 2 ‚Üí 1 –∫–æ–ª–æ–Ω–∫–∞)
- iOS Safari –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

---

### ‚úÖ 10. –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ–∞–π–ª–∏

**–°—Ç–≤–æ—Ä–µ–Ω–æ:**
- `SUBSCRIPTION_SETUP.md` - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- `apps/subscriptions/migrations/0002_plan_improvements.py` - –º—ñ–≥—Ä–∞—Ü—ñ—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤

```
apps/
‚îú‚îÄ‚îÄ payments/
‚îÇ   ‚îî‚îÄ‚îÄ liqpay_service.py                    # LiqPay —Å–µ—Ä–≤—ñ—Å
‚îú‚îÄ‚îÄ subscriptions/
‚îÇ   ‚îú‚îÄ‚îÄ subscription_views.py                # –ù–æ–≤—ñ views
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 0002_plan_improvements.py       # –ú—ñ–≥—Ä–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ management/commands/
‚îÇ       ‚îî‚îÄ‚îÄ renew_subscriptions.py          # –ê–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è

templates/subscriptions/
‚îú‚îÄ‚îÄ checkout.html                            # Checkout —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îú‚îÄ‚îÄ payment_success.html                     # Success —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îî‚îÄ‚îÄ payment_failure.html                     # Failure —Å—Ç–æ—Ä—ñ–Ω–∫–∞

static/css/components/
‚îú‚îÄ‚îÄ subscription-checkout.css                # Checkout —Å—Ç–∏–ª—ñ
‚îî‚îÄ‚îÄ payment-result.css                       # Result —Å—Ç–∏–ª—ñ

SUBSCRIPTION_SETUP.md                        # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
SUBSCRIPTION_IMPLEMENTATION_SUMMARY.md       # –¶–µ–π —Ñ–∞–π–ª
```

---

## üîÑ –û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏

```
requirements.txt                             # –î–æ–¥–∞–Ω–æ liqpay-sdk-python
playvision/settings/base.py                  # LiqPay –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
apps/subscriptions/urls.py                   # –ù–æ–≤—ñ URL –º–∞—Ä—à—Ä—É—Ç–∏
apps/subscriptions/models.py                 # –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –º–æ–¥–µ–ª—å Plan
templates/subscriptions/pricing.html         # –û–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
templates/hub/course_detail.html            # –ö–Ω–æ–ø–∫–∞ "–í—Å—Ç—É–ø–∏—Ç–∏ –≤ –∫–ª—É–±"
templates/hub/material_detail.html          # –ö–Ω–æ–ø–∫–∞ "–í—Å—Ç—É–ø–∏—Ç–∏ –≤ –∫–ª—É–±"
static/css/components/pricing.css           # –ù–æ–≤—ñ —Å—Ç–∏–ª—ñ –±–µ–π–¥–∂—ñ–≤
```

---

## üé® –í—ñ–∑—É–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ë–µ–π–¥–∂—ñ
- üü£ **–ù–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π** - —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç
- üî¥ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –µ–∫–æ–Ω–æ–º—ñ—è** - —Ä–æ–∂–µ–≤–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç  
- üîµ **–í–∏–≥—ñ–¥–Ω–æ** - –±–ª–∞–∫–∏—Ç–Ω–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç

### –ê–Ω—ñ–º–∞—Ü—ñ—ó
- ‚úÖ –ì–∞–ª–æ—á–∫–∞ —É—Å–ø—ñ—Ö—É (SVG –∞–Ω—ñ–º–∞—Ü—ñ—è)
- ‚ùå –•—Ä–µ—Å—Ç–∏–∫ –ø–æ–º–∏–ª–∫–∏ (SVG –∞–Ω—ñ–º–∞—Ü—ñ—è)
- üéØ Hover –µ—Ñ–µ–∫—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–∫–∞—Ö –ø–ª–∞–Ω—ñ–≤
- üåä –ü–ª–∞–≤–Ω—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏

### –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å
- üì± iPhone/Android - 1 –∫–æ–ª–æ–Ω–∫–∞
- üì≤ iPad - 2 –∫–æ–ª–æ–Ω–∫–∏
- üíª Desktop - 4 –∫–æ–ª–æ–Ω–∫–∏
- üçé iOS Safari –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**1. –í–∏–±—ñ—Ä –ø–ª–∞–Ω—É (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π)**
- –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ `/pricing/`
- –ö–ª—ñ–∫ "–í—Å—Ç—É–ø–∏—Ç–∏ –≤ –∫–ª—É–±"
- –†–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ pricing –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É ‚Üí checkout

**2. Checkout –ø—Ä–æ—Ü–µ—Å**
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π –ø–ª–∞–Ω—É
- –í–≤–µ–¥–µ–Ω–Ω—è –ø—Ä–æ–º–æ–∫–æ–¥—É
- –í–∏–±—ñ—Ä —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç–∏
- –§–æ—Ä–º–∞ LiqPay

**3. –£—Å–ø—ñ—à–Ω–∞ –æ–ø–ª–∞—Ç–∞**
- Callback –≤—ñ–¥ LiqPay
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–∏
- –†–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ success —Å—Ç–æ—Ä—ñ–Ω–∫—É
- –ê–≤—Ç–æ–ø–µ—Ä–µ—Ö—ñ–¥ –≤ –∫–∞–±—ñ–Ω–µ—Ç

**4. –ù–µ–≤–¥–∞–ª–∞ –æ–ø–ª–∞—Ç–∞**
- –í—ñ–¥–º–æ–≤–∞ –±–∞–Ω–∫—É
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω–∏ –ø–æ–º–∏–ª–∫–∏
- –ö–Ω–æ–ø–∫–∞ "–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑"

**5. –ê–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è**
- –ü—ñ–¥–ø–∏—Å–∫–∞ –∑ `auto_renew=True`
- –ó–∞ 3 –¥–Ω—ñ –¥–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è ‚Üí —Å–ø—Ä–æ–±–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- –£—Å–ø—ñ—Ö ‚Üí –ø–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É
- –ü–æ–º–∏–ª–∫–∞ ‚Üí —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

---

## üîê –ë–µ–∑–ø–µ–∫–∞

### –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –ø—ñ–¥–ø–∏—Å—É LiqPay
- ‚úÖ CSRF –∑–∞—Ö–∏—Å—Ç –Ω–∞ –≤—Å—ñ—Ö —Ñ–æ—Ä–º–∞—Ö
- ‚úÖ LoginRequired –¥–ª—è checkout
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–æ–º–æ–∫–æ–¥—ñ–≤
- ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ webhook (idempotency)
- ‚úÖ Sandbox —Ä–µ–∂–∏–º –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

### Tracking:
- `total_subscriptions` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥–ø–∏—Å–æ–∫ –ø–æ –ø–ª–∞–Ω–∞—Ö
- `?ref=` –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ç—Ä–µ–∫—ñ–Ω–≥—É –¥–∂–µ—Ä–µ–ª
- –°—Ç–∞—Ç—É—Å –ø—ñ–¥–ø–∏—Å–æ–∫ (active/cancelled/expired)

### –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:
- Google Analytics events
- Facebook Pixel tracking
- A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–ª–∞–Ω—ñ–≤
- –ö–æ–Ω–≤–µ—Ä—Å—ñ–π–Ω—ñ –≤–æ—Ä–æ–Ω–∫–∏

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### –î–ª—è production:
1. ‚úÖ –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ API –∫–ª—é—á—ñ LiqPay
2. ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `LIQPAY_SANDBOX=False`
3. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ HTTPS
4. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ webhook URL –Ω–∞ –¥–æ–º–µ–Ω—ñ
5. ‚úÖ –î–æ–¥–∞—Ç–∏ cron –¥–ª—è –∞–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
6. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
- –î–æ–¥–∞—Ç–∏ email —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—ñ
- –î–æ–¥–∞—Ç–∏ SMS –ø—Ä–∏ –Ω–µ–≤–¥–∞–ª–æ–º—É —Å–ø–∏—Å–∞–Ω–Ω—ñ
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ dashboard –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–º—ñ–Ω–∏ –ø–ª–∞–Ω—É "–Ω–∞ –ª—å–æ—Ç—É"
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–º–æ-–∫–æ–¥–∏ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**
- `SUBSCRIPTION_SETUP.md` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- [LiqPay API](https://www.liqpay.ua/documentation/)

**–ö–æ–Ω—Ç–∞–∫—Ç–∏:**
- Email: admin@playvision.com
- –¢–µ—Ö–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ LiqPay: support@liqpay.ua

---

## ‚ú® –í–∏—Å–Ω–æ–≤–æ–∫

–ü–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—ñ–¥–ø–∏—Å–æ–∫ –∑:
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é LiqPay
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º–∏ –±–µ–π–¥–∂–∞–º–∏
- ‚úÖ –û–∫—Ä–µ–º–∏–º checkout —Ñ–ª–æ—É
- ‚úÖ –£—Å–ø—ñ—à–Ω–∏–º–∏ —Ç–∞ –ø–æ–º–∏–ª–∫–æ–≤–∏–º–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è–º
- ‚úÖ –ü–æ–≤–Ω–æ—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—é
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å:** 100%  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –¥–æ production


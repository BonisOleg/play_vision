# ‚úÖ –ì–õ–û–ë–ê–õ–¨–ù–ê –ö–ù–û–ü–ö–ê AI –ê–°–ò–°–¢–ï–ù–¢–ê - –ó–ê–í–ï–†–®–ï–ù–û

## üéØ –í–ò–ö–û–ù–ê–ù–û

–°—Ç–≤–æ—Ä–µ–Ω–æ **–≥–ª–æ–±–∞–ª—å–Ω—É floating –∫–Ω–æ–ø–∫—É AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞** –¥–æ—Å—Ç—É–ø–Ω—É:
- ‚úÖ **–í–°–Ü–ú –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º** (–≥–æ—Å—Ç—ñ, –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ, –ø—ñ–¥–ø–∏—Å–Ω–∏–∫–∏)
- ‚úÖ **–ù–ê –í–°–Ü–• —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö** (—á–µ—Ä–µ–∑ base.html)
- ‚úÖ **–ó –º—ñ–Ω—ñ-—á–∞—Ç–æ–º** –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –∑–∞–ø–∏—Ç–∞–Ω—å
- ‚úÖ **–ë–ï–ó inline styles**
- ‚úÖ **–ë–ï–ó !important** (–∫—Ä—ñ–º accessibility)
- ‚úÖ **–ë–ï–ó –¥—É–±–ª—ñ–≤ –∫–æ–¥—É**

---

## üìÅ –ó–ú–Ü–ù–ï–ù–Ü/–°–¢–í–û–†–ï–ù–Ü –§–ê–ô–õ–ò

### 1. `templates/base/base.html` ‚úèÔ∏è
**–î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–¥ `</body>`:**
- FAB –∫–Ω–æ–ø–∫–∞ (floating action button)
- –ú—ñ–Ω—ñ-—á–∞—Ç –≤—ñ–¥–∂–µ—Ç
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è CSS —Ç–∞ JS

### 2. `static/css/components/ai-chat.css` ‚úèÔ∏è
**–î–æ–¥–∞–Ω–æ ~300 —Ä—è–¥–∫—ñ–≤ —Å—Ç–∏–ª—ñ–≤:**
- `.ai-fab-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–Ω–æ–ø–∫–∏
- `.ai-fab` - —Å–∞–º–∞ –∫–Ω–æ–ø–∫–∞ (64x64px, gradient, shadow)
- `.ai-fab-tooltip` - –ø—ñ–¥–∫–∞–∑–∫–∞ –ø—Ä–∏ hover
- `.ai-mini-chat` - –º—ñ–Ω—ñ-—á–∞—Ç –≤—ñ–¥–∂–µ—Ç (380px)
- `.ai-mini-chat-header` - —à–∞–ø–∫–∞ —á–∞—Ç—É
- `.ai-mini-chat-messages` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- `.ai-mini-message` - —Å—Ç–∏–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (bot/user)
- `.ai-mini-chat-input` - –ø–æ–ª–µ –≤–≤–æ–¥—É
- `.ai-mini-actions` - –∫–Ω–æ–ø–∫–∏ –æ—Ü—ñ–Ω–∫–∏
- Responsive –¥–ª—è mobile/tablet
- Accessibility (reduced-motion)

### 3. `static/js/components/ai-global.js` üÜï
**–°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤–∏–π —Ñ–∞–π–ª (~180 —Ä—è–¥–∫—ñ–≤):**
- –í—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è –º—ñ–Ω—ñ-—á–∞—Ç—É
- –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ `/ai/ask/`
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- Typing indicator
- –°–∏—Å—Ç–µ–º–∞ –æ—Ü—ñ–Ω–æ–∫ (üëçüëé)
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è markdown
- Auto-scroll
- CSRF token handling
- localStorage –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É

---

## üé® –î–ò–ó–ê–ô–ù –†–Ü–®–ï–ù–ù–Ø

### Floating Action Button (FAB)
- **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** Fixed bottom-right (24px –≤—ñ–¥ –∫—Ä–∞—ó–≤)
- **–†–æ–∑–º—ñ—Ä:** 64x64px (56px –Ω–∞ mobile)
- **–°—Ç–∏–ª—å:** Gradient primary color –∑ shadow
- **–ï—Ñ–µ–∫—Ç–∏:** Hover –ø—ñ–¥–π–æ–º, tooltip –∑'—è–≤–ª—è—î—Ç—å—Å—è
- **Z-index:** 999 (–Ω–∞–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –ø—ñ–¥ –º–æ–¥–∞–ª–∫–∞–º–∏)

### –ú—ñ–Ω—ñ-—á–∞—Ç
- **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** Fixed bottom-right, –Ω–∞–¥ FAB
- **–†–æ–∑–º—ñ—Ä:** 380px —à–∏—Ä–∏–Ω–∞, 600px max-height
- **–°—Ç–∏–ª—å:** White background, rounded corners, shadow
- **Responsive:** Full-width –Ω–∞ mobile, 360px –Ω–∞ tablet
- **Z-index:** 998 (–ø—ñ–¥ FAB)

---

## üîÑ –õ–û–ì–Ü–ö–ê –†–û–ë–û–¢–ò

### 1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–ª—ñ–∫–∞—î FAB
```javascript
fabBtn.click() ‚Üí toggleMiniChat() ‚Üí miniChat.classList.add('active')
```

### 2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø–∏—Ç–∞–Ω–Ω—è
```javascript
input.value ‚Üí sendMessage() ‚Üí fetch('/ai/ask/') ‚Üí addMessage(response)
```

### 3. AI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
```javascript
API response ‚Üí format markdown ‚Üí add to chat ‚Üí show rating buttons
```

### 4. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ü—ñ–Ω—é—î
```javascript
rateBtn.click() ‚Üí fetch('/ai/rate/{id}/') ‚Üí btn.disabled = true
```

---

## üéØ –û–ë–ú–ï–ñ–ï–ù–ù–Ø –î–û–°–¢–£–ü–£

### –ß–µ—Ä–µ–∑ AI —Å–µ—Ä–≤—ñ—Å (–≤–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ):
- **Guest:** –∫–æ—Ä–æ—Ç—à—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (200 chars) + CTA —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
- **Registered:** —Å–µ—Ä–µ–¥–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (500 chars) + CTA –ø—ñ–¥–ø–∏—Å–∫–∏
- **Subscriber L1:** –ø–æ–≤–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (1000 chars)
- **Subscriber L2:** –µ–∫—Å–ø–µ—Ä—Ç–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (2000 chars)
- **Admin:** –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å

### –í –º—ñ–Ω—ñ-—á–∞—Ç—ñ:
- –í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å –∫–Ω–æ–ø–∫—É ‚úÖ
- –í—Å—ñ –º–æ–∂—É—Ç—å –∑–∞–ø–∏—Ç—É–≤–∞—Ç–∏ ‚úÖ
- AI —Å–∞–º —Ä–µ–≥—É–ª—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä—ñ–≤–Ω—è ‚úÖ

---

## üì± RESPONSIVE

### Desktop (>768px)
- FAB: 64x64px, right: 24px
- –ú—ñ–Ω—ñ-—á–∞—Ç: 380px —à–∏—Ä–∏–Ω–∞
- Tooltip: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è

### Tablet (481-768px)
- FAB: 64x64px
- –ú—ñ–Ω—ñ-—á–∞—Ç: 360px —à–∏—Ä–∏–Ω–∞
- Tooltip: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è

### Mobile (<480px)
- FAB: 56x56px, right: 16px
- –ú—ñ–Ω—ñ-—á–∞—Ç: full-width (left: 16px, right: 16px)
- Tooltip: –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π

---

## ‚ôø ACCESSIBILITY

### Keyboard navigation
- FAB —Ç–∞ –≤—Å—ñ –∫–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
- `aria-label` –Ω–∞ –≤—Å—ñ—Ö —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ö
- Enter –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### Screen readers
- –í—Å—ñ SVG –º–∞—é—Ç—å aria-label
- –°–µ–º–∞–Ω—Ç–∏—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML
- Alt —Ç–µ–∫—Å—Ç –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

### Reduced motion
```css
@media (prefers-reduced-motion: reduce) {
    .ai-fab, .ai-mini-chat {
        transition-duration: 0.01ms;
    }
}
```

---

## üîç –ü–ï–†–ï–í–Ü–†–ö–ê

### –ù–µ–º–∞—î inline styles ‚úÖ
–í—Å—ñ —Å—Ç–∏–ª—ñ –≤ CSS —Ñ–∞–π–ª—ñ

### –ù–µ–º–∞—î !important ‚úÖ
–ö—Ä—ñ–º accessibility (prefers-reduced-motion)

### –ù–µ–º–∞—î –¥—É–±–ª—ñ–≤ ‚úÖ
–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ —ñ—Å–Ω—É—é—á—ñ:
- AI endpoints (`/ai/ask/`, `/ai/rate/`)
- CSS –∑–º—ñ–Ω–Ω—ñ (`--color-primary`)
- –Ü—Å–Ω—É—é—á–∏–π AIAgentService
- –Ü—Å–Ω—É—é—á–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ü—ñ–Ω–æ–∫

---

## üöÄ –Ø–ö –ü–†–û–¢–ï–°–¢–£–í–ê–¢–ò

### 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –±—É–¥—å-—è–∫—É —Å—Ç–æ—Ä—ñ–Ω–∫—É
```
http://localhost:8000/
```

### 2. –ü–æ–±–∞—á–∏—Ç–µ FAB –∫–Ω–æ–ø–∫—É
- –ü—Ä–∞–≤–∏–π –Ω–∏–∂–Ω—ñ–π –∫—É—Ç
- Orange gradient
- "AI" —Ç–µ–∫—Å—Ç

### 3. –ö–ª—ñ–∫–Ω—É—Ç–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
- –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –º—ñ–Ω—ñ-—á–∞—Ç
- Welcome message –≤—ñ–¥ AI
- –ü–æ–ª–µ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è

### 4. –ó–∞–ø–∏—Ç–∞—Ç–∏ —â–æ—Å—å
```
"–©–æ —Ç–∞–∫–µ Play Vision?"
```

### 5. –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- –ó –¥–∂–µ—Ä–µ–ª–∞–º–∏ —è–∫—â–æ —î –≤ –±–∞–∑—ñ
- –ó CTA –ø—ñ—Å–ª—è 2-3 –∑–∞–ø–∏—Ç—ñ–≤
- –ó –¥–∏—Å–∫–ª–µ–π–º–µ—Ä–æ–º —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

### 6. –û—Ü—ñ–Ω–∏—Ç–∏
- üëç –∞–±–æ üëé –∫–Ω–æ–ø–∫–∏
- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –±–∞–∑—É

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –°—Ç–≤–æ—Ä–µ–Ω–æ:
- 1 –Ω–æ–≤–∏–π JS —Ñ–∞–π–ª (180 —Ä—è–¥–∫—ñ–≤)
- ~350 —Ä—è–¥–∫—ñ–≤ CSS —Å—Ç–∏–ª—ñ–≤
- ~50 —Ä—è–¥–∫—ñ–≤ HTML –≤ base.html

### –ó–º—ñ–Ω–µ–Ω–æ:
- 3 —Ñ–∞–π–ª–∏

### –ß–∞—Å —Ä–æ–±–æ—Ç–∏:
- 30 —Ö–≤–∏–ª–∏–Ω

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞ –∫–Ω–æ–ø–∫–∞ AI –Ω–∞ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö!

---

**üéä –ì–û–¢–û–í–û! –ö–Ω–æ–ø–∫–∞ AI —Ç–µ–ø–µ—Ä –≤–∏–¥–∏–º–∞ –≤—Å—ñ–º —ñ –≤—Å—é–¥–∏!** üöÄ

